#+PROPERTY: header-args+ :var GITHUB_IDENTITY="/home/hacklab/mnt/.ssh/id_jukka358"


* Manage ~hack310g8~ pc
:PROPERTIES:
:TOC:  :include all     :depth 2
:END:


Emacs org -file for administering ~hack310g8~ PC in electronics room.

:CONTENTS:
- [[#manage-hack310g8-pc][Manage hack310g8 pc]]
  - [[#show-environment-configuration][Show environment configuration]]
  - [[#initialize-operating-system-environment][Initialize operating system environment]]
    - [[#add-bin-to-path][Add bin to PATH]]
    - [[#create-some-directories][Create some directories]]
    - [[#add-ssh-alias-names][Add .ssh alias names]]
  - [[#setup-git-repo][Setup git repo]]
    - [[#clone-repo-githubcomhelsinkihacklabelectronics][Clone repo github.com/HelsinkiHacklab/Electronics]]
    - [[#set-maintenance-identity-on-git-repo][Set maintenance identity on git repo]]
    - [[#add-remote-git-hacklab-git-repo][Add remote git-hacklab git repo]]
  - [[#manage-git-repo][Manage git repo]]
    - [[#pull-changes-from-origin][Pull changes from origin]]
    - [[#show-git-status][Show git status]]
    - [[#prepare-for-push-operation][Prepare for push operation]]
    - [[#push-change-to-remote-git-hacklab][Push change to remote git-hacklab]]
  - [[#install-packages][Install packages]]
    - [[#snap-admin-tool-to-bundle-of-an-app-and-its-dependencies][snap: admin tool to bundle of an app and its dependencies]]
    - [[#git-free-and-open-source-distributed-version-control][git: free and open source distributed version control]]
    - [[#docker--os-level-virtualization-to-deliver-software-in-packages-called-containers][docker:  OS-level virtualization to deliver software in packages called containers]]
    - [[#docker-compose-tool-for-defining-and-running-multi-container-docker-applications][docker-compose: tool for defining and running multi-container Docker applications]]
    - [[#openscad-software-for-creating-solid-3d-cad-objects][openscad: software for creating solid 3D CAD objects.]]
    - [[#gimp-gnu-image-manipulation-program][gimp: GNU Image Manipulation Program]]
    - [[#lxi-tools-a-tool-for-controlling-lxi-compatible-instruments][lxi-tools: a tool for controlling LXI compatible instruments]]
    - [[#sigrok-signal-analysis-software-suite][sigrok: signal analysis software suite]]
  - [[#other][Other]]
    - [[#openscan-binreftscad][OpenScan ~/bin/reft.scad]]
    - [[#script--binetoolsh--directory][Script  bin/etool.sh -directory]]
  - [[#administer-docker][Administer docker]]
    - [[#list-docker-images][List docker images]]
    - [[#pull-docker-image-marcus2002etooletool_tag][Pull docker image marcus2002/etool/$ETOOL_TAG]]
    - [[#change-etool_tag-in-binetoolsh][Change $ETOOL_TAG in ~/bin/etool.sh]]
  - [[#other-usefull-admin-commands][Other usefull admin commands]]
    - [[#hostname][hostname]]
    - [[#check-os-version][Check OS version]]
- [[#issues][Issues]]
  - [[#etoolsh-exe-glxgears---error-libgl-error-failed-to-load-driver-swrast-resolved][etool.sh exe glxgears - error 'libGL error: failed to load driver: swrast' (resolved)]]
  - [[#emacs-variables][Emacs variables]]
:END:


** Show environment configuration 

Private key used to write to repo
#+BEGIN_SRC bash :eval no-export :results output :exports results
echo GITHUB_IDENTITY=$GITHUB_IDENTITY | sed -E 's!=(.*)!=xxxxxx2!'
#+END_SRC

#+RESULTS:
: GITHUB_IDENTITY=xxxxx


** Initialize operating system environment

*** Add ~bin~ to PATH

 Initial path
 #+BEGIN_SRC bash :eval no :results output :exports both
 echo PATH=$PATH
 #+END_SRC

 #+RESULTS:
 : PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin


 #+BEGIN_SRC sh :eval no-export :results output  :dir ~
   sed -i -E '/ADMIN_README-start/,/ADMIN_README-end/d' .bashrc
   cat <<EOF | tee -a .bashrc
   # ADMIN_README-start: modified from ~/admin/README.org - changes will be overridded!
   # set PATH so it includes user's private bin if it exists
   if [ -d "\$HOME/.local/bin" ] ; then
       PATH=\$HOME/.local/bin:\$PATH
   fi
   if [ -d "\$HOME/bin" ] ; then
       PATH=\$HOME/bin:\$PATH
   fi
   # ADMIN_README-end
   EOF
 #+END_SRC

 #+RESULTS:
 : # ADMIN_README-start: modified from ~/admin/README.org - changes will be overridded!
 : # set PATH so it includes user's private bin if it exists
 : if [ -d "$HOME/.local/bin" ] ; then
 :     PATH=$HOME/.local/bin:$PATH
 : fi
 : if [ -d "$HOME/bin" ] ; then
 :     PATH=$HOME/bin:$PATH
 : fi
 : # ADMIN_README-end

 Bashrc
 #+BEGIN_SRC bash :eval no-export :results output :exports results
 cat  ~/.bashrc
 #+END_SRC

 #+RESULTS:
 #+begin_example
 # ~/.bashrc: executed by bash(1) for non-login shells.
 # see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)
 # for examples

 # If not running interactively, don't do anything
 case $- in
     ,*i*) ;;
       ,*) return;;
 esac

 # don't put duplicate lines or lines starting with space in the history.
 # See bash(1) for more options
 HISTCONTROL=ignoreboth

 # append to the history file, don't overwrite it
 shopt -s histappend

 # for setting history length see HISTSIZE and HISTFILESIZE in bash(1)
 HISTSIZE=1000
 HISTFILESIZE=2000

 # check the window size after each command and, if necessary,
 # update the values of LINES and COLUMNS.
 shopt -s checkwinsize

 # If set, the pattern "**" used in a pathname expansion context will
 # match all files and zero or more directories and subdirectories.
 #shopt -s globstar

 # make less more friendly for non-text input files, see lesspipe(1)
 [ -x /usr/bin/lesspipe ] && eval "$(SHELL=/bin/sh lesspipe)"

 # set variable identifying the chroot you work in (used in the prompt below)
 if [ -z "${debian_chroot:-}" ] && [ -r /etc/debian_chroot ]; then
     debian_chroot=$(cat /etc/debian_chroot)
 fi

 # set a fancy prompt (non-color, unless we know we "want" color)
 case "$TERM" in
     xterm-color|*-256color) color_prompt=yes;;
 esac

 # uncomment for a colored prompt, if the terminal has the capability; turned
 # off by default to not distract the user: the focus in a terminal window
 # should be on the output of commands, not on the prompt
 #force_color_prompt=yes

 if [ -n "$force_color_prompt" ]; then
     if [ -x /usr/bin/tput ] && tput setaf 1 >&/dev/null; then
	 # We have color support; assume it's compliant with Ecma-48
	 # (ISO/IEC-6429). (Lack of such support is extremely rare, and such
	 # a case would tend to support setf rather than setaf.)
	 color_prompt=yes
     else
	 color_prompt=
     fi
 fi

 if [ "$color_prompt" = yes ]; then
     PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '
 else
     PS1='${debian_chroot:+($debian_chroot)}\u@\h:\w\$ '
 fi
 unset color_prompt force_color_prompt

 # If this is an xterm set the title to user@host:dir
 case "$TERM" in
 xterm*|rxvt*)
     PS1="\[\e]0;${debian_chroot:+($debian_chroot)}\u@\h: \w\a\]$PS1"
     ;;
 ,*)
     ;;
 esac

 # enable color support of ls and also add handy aliases
 if [ -x /usr/bin/dircolors ]; then
     test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
     alias ls='ls --color=auto'
     #alias dir='dir --color=auto'
     #alias vdir='vdir --color=auto'

     alias grep='grep --color=auto'
     alias fgrep='fgrep --color=auto'
     alias egrep='egrep --color=auto'
 fi

 # colored GCC warnings and errors
 #export GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'

 # some more ls aliases
 alias ll='ls -alF'
 alias la='ls -A'
 alias l='ls -CF'

 # Add an "alert" alias for long running commands.  Use like so:
 #   sleep 10; alert
 alias alert='notify-send --urgency=low -i "$([ $? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'

 # Alias definitions.
 # You may want to put all your additions into a separate file like
 # ~/.bash_aliases, instead of adding them here directly.
 # See /usr/share/doc/bash-doc/examples in the bash-doc package.

 if [ -f ~/.bash_aliases ]; then
     . ~/.bash_aliases
 fi

 # enable programmable completion features (you don't need to enable
 # this, if it's already enabled in /etc/bash.bashrc and /etc/profile
 # sources /etc/bash.bashrc).
 if ! shopt -oq posix; then
   if [ -f /usr/share/bash-completion/bash_completion ]; then
     . /usr/share/bash-completion/bash_completion
   elif [ -f /etc/bash_completion ]; then
     . /etc/bash_completion
   fi
 fi
 # ADMIN_README-start: modified from ~/admin/README.org - changes will be overridded!
 # set PATH so it includes user's private bin if it exists
 if [ -d "$HOME/.local/bin" ] ; then
     PATH=$HOME/.local/bin:$PATH
 fi
 if [ -d "$HOME/bin" ] ; then
     PATH=$HOME/bin:$PATH
 fi
 # ADMIN_README-end
 #+end_example


 Check PATH variable
 #+BEGIN_SRC bash :eval no-export :results output :exports both
 . ~/.bashrc
 echo PATH=$PATH
 #+END_SRC

 #+RESULTS:
 : PATH=/home/hacklab/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin


*** Create some directories

 Create ~pics~ sub-directory
 #+name: create-dir
 #+BEGIN_SRC bash :eval no-export :results output :var  DIR="pics"
 ( [ -d $DIR ] && echo Directory $DIR exists ) || (mkdir -p $DIR; echo Directory $DIR created)
 #+END_SRC

 #+RESULTS:
 : Directory pics exists

 Create ~mnt~ sub-directory
 #+call: create-dir(DIR="/home/hacklab/mnt")

 #+RESULTS:
 : Directory /home/hacklab/mnt created

 Ensure that =~/tmp= directory exists
 #+BEGIN_SRC bash :eval no-export :results output
 DIR=~/tmp
 ( [ -d $DIR ] && echo Directory $DIR exists ) || (mkdir -p $DIR; echo Directory $DIR created)
 #+END_SRC

 #+RESULTS:
 : Directory /home/hacklab/tmp exists


  Create ~.ssh~ directory with correct persimoissions. Ensure that
  ~config~ file exist in this directory.

  #+BEGIN_SRC bash :eval no-export :results output 
  [  -d ~/.ssh ] || ( mkdir ~/.ssh; chmod 700 ~/.ssh; echo Directory ~/.ssh created )
  touch ~/.ssh/config
  ls -ltr ~/.ssh
  #+END_SRC

  #+RESULTS:
  : Directory /home/hacklab/.ssh created
  : total 0
  : -rw-rw-r-- 1 hacklab hacklab 0 Nov 18 10:09 config


*** Add .ssh alias names

**** Add ssh -identity ~GITHUB_IDENTITY~

Add ssh -identity ~GITHUB_IDENTITY~ to ~.ssh/config~ with alias name
~git-hacklab~. Existing alias definifiton is removed, if its
exists. Original version is saved into ~.ssh/config.old~.


 #+BEGIN_SRC bash :eval no-export :results output
 # Remove old config
 sed -i.old -E '/host +git-hacklab/,/^ *$/d' ~/.ssh/config

 # Append new config
 cat <<HERE >>~/.ssh/config
 host git-hacklab
      user git
      hostname github.com
      IdentityFile $GITHUB_IDENTITY
 HERE

 diff ~/.ssh/config.old ~/.ssh/config || true
 #+END_SRC

 #+RESULTS:
 : 4c4
 : <      IdentityFile /media/hacklab/mnt/.ssh/id_jukka358
 : ---
 : >      IdentityFile /home/hacklab/mnt/.ssh/id_jukka358



** Setup git repo

*** Clone repo ~github.com/HelsinkiHacklab/Electronics~

#+BEGIN_SRC bash :eval no-export :results output
git clone  https://github.com/HelsinkiHacklab/Electronics
#+END_SRC

*** Set maintenance identity on git repo

#+BEGIN_SRC bash :eval no-export :results output
git config user.email "jukkaj@example.com"
git config user.name "jukkaj"
#+END_SRC

#+RESULTS:


*** Add remote ~git-hacklab~ git repo 

 Show remotes before changes
 #+BEGIN_SRC bash :eval no-export :results output :exports both
 git remote -v
 #+END_SRC

 #+RESULTS:
 : git-hacklab	git-hacklab:HelsinkiHacklab/Electronics (fetch)
 : git-hacklab	git-hacklab:HelsinkiHacklab/Electronics (push)
 : origin	https://github.com/HelsinkiHacklab/Electronics (fetch)
 : origin	https://github.com/HelsinkiHacklab/Electronics (push)


 Add remote ~git-hacklab~ using ssh alias
 ~git-hacklab:HelsinkiHacklab/Electronics~

 *NB*: ssh alias name ~git-hacklab~ configured in =~/.ssh/config=.

 #+BEGIN_SRC bash :eval no-export :results output
 git remote add git-hacklab git-hacklab:HelsinkiHacklab/Electronics
 #+END_SRC

 #+RESULTS:

 Show remotes after the changes
 #+BEGIN_SRC bash :eval no-export :results output :exports both
 git remote -v
 #+END_SRC

 #+RESULTS:
 : git-hacklab	git-hacklab:HelsinkiHacklab/Electronics (fetch)
 : git-hacklab	git-hacklab:HelsinkiHacklab/Electronics (push)
 : origin	https://github.com/HelsinkiHacklab/Electronics (fetch)
 : origin	https://github.com/HelsinkiHacklab/Electronics (push)





We are using remote ~git-hacklab~ to push changes to github. Show remotes:

#+BEGIN_SRC bash :eval no-export :results output :exports both
git remote -v
#+END_SRC

#+RESULTS:
: git-hacklab	git-hacklab:HelsinkiHacklab/Electronics (fetch)
: git-hacklab	git-hacklab:HelsinkiHacklab/Electronics (push)
: origin	https://github.com/HelsinkiHacklab/Electronics (fetch)
: origin	https://github.com/HelsinkiHacklab/Electronics (push)


 
** Manage git repo

*** Pull changes from ~origin~

  #+BEGIN_SRC bash :eval no-export :results output
  git pull origin
  #+END_SRC

  #+RESULTS:
  : Already up to date.


 *Fetch* from a repository grabs all the new remote-tracking branches
 and tags without merging those changes into your own branches.
 #+name: git-fetch
 #+BEGIN_SRC bash :eval no-export :results output
 git fetch origin
 #+END_SRC

 #+RESULTS:

 *Merge* combines your local changes with changes made by
 others. 
 #+name: git-merge
 #+BEGIN_SRC bash :eval no-export :results output
 git merge origin/master 2>&1; echo STATUS=$?
 #+END_SRC

 #+RESULTS:
 : merge: origin/master - not something we can merge
 : STATUS=1


*** Show git status

Before pushing changes back repo expect git status to be clean.

#+BEGIN_SRC bash :eval no-export :results output
git status
#+END_SRC

#+RESULTS:
#+begin_example
On branch main
Your branch is up to date with 'origin/main'.

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   emacs.org
	modified:   hack310g8-admin.org

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	#hack310g8-admin.org#
	.#hack310g8-admin.org
	..emacs.org.~undo-tree~.~undo-tree~

no changes added to commit (use "git add" and/or "git commit -a")
#+end_example



*** Prepare for push operation

Remote ~git-hacklab~ refers to ssh alias ~git-hacklab~, which must
point to a valid ssh private key readable only to the owner. Lets
mount USB:

*1st* check is usb stick is already mounted:

#+BEGIN_SRC bash :eval no-export :results output :expors code
lsblk
#+END_SRC

#+RESULTS:
#+begin_example
NAME   MAJ:MIN RM   SIZE RO TYPE MOUNTPOINT
loop0    7:0    0  63,2M  1 loop /snap/core20/1695
loop1    7:1    0  72,8M  1 loop /snap/core22/310
loop2    7:2    0  33,8M  1 loop /snap/lxi-tools/1577
loop3    7:3    0  63,2M  1 loop /snap/core20/1623
loop4    7:4    0 140,3M  1 loop /snap/lxi-tools/1517
loop5    7:5    0  49,7M  1 loop /snap/snapd/17576
loop6    7:6    0    48M  1 loop /snap/snapd/17336
sda      8:0    0 931,5G  0 disk 
├─sda1   8:1    0   512M  0 part /boot/efi
├─sda2   8:2    0     1K  0 part 
└─sda5   8:5    0   931G  0 part /
sdb      8:16   0 931,5G  0 disk 
└─sdb1   8:17   0 931,5G  0 part /data/SATA1
sdc      8:32   1   476M  0 disk 
└─sdc1   8:33   1   476M  0 part /media/hacklab/JJ
sr0     11:0    1  1024M  0 rom  
#+end_example

*2nd* unmount (if already mounted)
#+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
sudo umount /dev/sdc1
#+END_SRC

#+RESULTS:

*3nd* mount USB stick with valid permissions
#+BEGIN_SRC bash :eval no-export :results output  :dir /sudo:: :exports code
MOUNT_POINT=/home/hacklab/mnt
sudo mount -o uid=hacklab,gid=hacklab,dmask=077,fmask=177 /dev/sdc1 $MOUNT_POINT
#+END_SRC

#+RESULTS:

*4th* check identitity permoissions (expect ~-rw-------~ )
#+BEGIN_SRC bash :eval no-export :results output :exports both 
ls -ltr $GITHUB_IDENTITY
#+END_SRC

#+RESULTS:
: -rw------- 1 hacklab hacklab 464 Oct  7 10:13 /home/hacklab/mnt/.ssh/id_jukka358


*** Push change to remote ~git-hacklab~ 

Push changes to remote ~git-hacklab~ (must use command line here, because requests pass phare)
#+BEGIN_SRC bash :eval no-export :results output
git push git-hacklab
#+END_SRC

#+RESULTS:

Unmount USB stick and remove it from the USB port

#+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
sudo umount /home/hacklab/mnt
#+END_SRC

#+RESULTS:


After  push -operation fetch and merge changes from remote.

#+call: git-fetch()

#+RESULTS:

#+call: git-merge()

#+RESULTS:
: merge: origin/master - not something we can merge
: STATUS=1





** Install packages

*** ~snap~: admin tool to bundle of an app and its dependencies

 Ref: https://snapcraft.io/docs/installing-snap-on-linux-mint
 Ref: https://linuxmint-user-guide.readthedocs.io/en/latest/snap.html


 Check status of ~nosnap.pref~
 #+BEGIN_SRC bash :eval no-export :results output
 ls -ltr /etc/apt/preferences.d/nosnap.pref
 #+END_SRC

 #+RESULTS:
 : -rw-r--r-- 1 root root 269 Dec 17  2021 /etc/apt/preferences.d/nosnap.pref

 Get rid of ~/etc/apt/preferences.d/nosnap.pref~
 #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
 sudo mv /etc/apt/preferences.d/nosnap.pref /home/hacklab/Documents/nosnap.backup
 #+END_SRC

 #+RESULTS:

 Check that file is gone
 #+BEGIN_SRC bash :eval no-export :results output
 ls -ltr ~/Documents
 cat ~/Documents/nosnap.backup
 FILE=/etc/apt/preferences.d/nosnap.pref 
 [ -f $FILE ] || echo No such file $FILE

 #+END_SRC

 #+RESULTS:
 #+begin_example
 total 16
 -rw-r--r-- 1 root    root     269 Dec 17  2021 nosnap.backup
 drwxrwxr-x 5 hacklab hacklab 4096 Apr 28 14:49 DipTrace
 drwxrwxr-x 5 hacklab hacklab 4096 Aug 29 12:05 jj
 drwxrwxr-x 7 hacklab hacklab 4096 Aug 29 12:13 etool
 # To prevent repository packages from triggering the installation of Snap,
 # this file forbids snapd from being installed by APT.
 # For more information: https://linuxmint-user-guide.readthedocs.io/en/latest/snap.html

 Package: snapd
 Pin: release a=*
 Pin-Priority: -10
 No such file /etc/apt/preferences.d/nosnap.pref
 #+end_example


 #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
 apt update
 #+END_SRC

 #+RESULTS:
 #+begin_example
 [33m0% [Working][0m            Hit:1 http://archive.ubuntu.com/ubuntu focal InRelease
 [33m0% [Connected to download.docker.com (13.32.123.81)] [Waiting for headers] [Con[0m                                                                               Hit:2 http://security.ubuntu.com/ubuntu focal-security InRelease
 [33m0% [Waiting for headers] [Waiting for headers] [Connecting to packages.linuxmin[0m                                                                               Hit:3 http://ppa.launchpad.net/kicad/kicad-6.0-releases/ubuntu focal InRelease
 [33m0% [Waiting for headers] [Connecting to packages.linuxmint.com (208.77.20.11)] [0m                                                                               Hit:4 https://download.docker.com/linux/ubuntu focal InRelease
 [33m                                                                               0% [Waiting for headers] [Waiting for headers] [Waiting for headers][0m                                                                    Hit:5 http://archive.ubuntu.com/ubuntu focal-updates InRelease
 [33m                                                                    0% [Waiting for headers] [Waiting for headers][0m[33m0% [Waiting for headers] [Waiting for headers] [Waiting for headers][0m                                                                    Hit:6 http://archive.ubuntu.com/ubuntu focal-backports InRelease
 [33m                                                                    0% [Waiting for headers] [Waiting for headers][0m                                              Hit:7 http://archive.canonical.com/ubuntu focal InRelease
 [33m                                              0% [Waiting for headers][0m                        Ign:8 http://packages.linuxmint.com una InRelease
 [33m                        0% [Working][0m[33m0% [Waiting for headers][0m                        Hit:9 http://packages.linuxmint.com una Release
 [33m                        0% [Working][0m[33m0% [Working][0m[33m0% [Working][0m[33m0% [Working][0m[33m0% [Working][0m[33m0% [Working][0m[33m20% [Working][0m             Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 3%Reading package lists... 3%Reading package lists... 5%Reading package lists... 5%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 31%Reading package lists... 31%Reading package lists... 43%Reading package lists... 43%Reading package lists... 56%Reading package lists... 56%Reading package lists... 57%Reading package lists... 57%Reading package lists... 57%Reading package lists... 57%Reading package lists... 57%Reading package lists... 57%Reading package lists... 63%Reading package lists... 63%Reading package lists... 64%Reading package lists... 64%Reading package lists... 68%Reading package lists... 68%Reading package lists... 70%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 74%Reading package lists... 74%Reading package lists... 76%Reading package lists... 76%Reading package lists... 78%Reading package lists... 78%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 84%Reading package lists... 84%Reading package lists... 85%Reading package lists... 85%Reading package lists... 89%Reading package lists... 89%Reading package lists... 92%Reading package lists... 92%Reading package lists... 92%Reading package lists... 92%Reading package lists... 94%Reading package lists... 94%Reading package lists... 96%Reading package lists... 96%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
Reading state information... 0%Reading state information... 0%Reading state information... Done
 253 packages can be upgraded. Run 'apt list --upgradable' to see them.
 #+end_example

 Now it is possible to install snap
 #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
 apt install -y snapd
 #+END_SRC

 #+RESULTS:
 #+begin_example
Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
Reading state information... 0%Reading state information... 0%Reading state information... Done
 The following packages were automatically installed and are no longer required:
   lib32gcc-s1 libcuda1-340 libxnvctrl0 nvidia-settings screen-resolution-extra
 Use 'apt autoremove' to remove them.
 The following NEW packages will be installed:
   snapd
 0 upgraded, 1 newly installed, 0 to remove and 253 not upgraded.
 Need to get 35.6 MB of archives.
 After this operation, 151 MB of additional disk space will be used.
 [33m0% [Working][0m            Get:1 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 snapd amd64 2.55.5+20.04 [35.6 MB]
 [33m0% [1 snapd 2,609 B/35.6 MB 0%][0m[33m6% [1 snapd 2,490 kB/35.6 MB 7%][0m[33m19% [1 snapd 8,242 kB/35.6 MB 23%][0m[33m                                  30% [1 snapd 13.4 MB/35.6 MB 38%][0m[33m42% [1 snapd 18.5 MB/35.6 MB 52%][0m[33m53% [1 snapd 23.6 MB/35.6 MB 66%][0m[33m65% [1 snapd 28.7 MB/35.6 MB 81%][0m[33m77% [1 snapd 34.2 MB/35.6 MB 96%][0m[33m                                 100% [Working][0m              Fetched 35.6 MB in 4s (8,966 kB/s)
 Selecting previously unselected package snapd.
 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 439824 files and directories currently installed.)
 Preparing to unpack .../snapd_2.55.5+20.04_amd64.deb ...
 Unpacking snapd (2.55.5+20.04) ...
 Setting up snapd (2.55.5+20.04) ...
 Created symlink /etc/systemd/system/multi-user.target.wants/snapd.apparmor.service → /lib/systemd/system/snapd.apparmor.service.
 Created symlink /etc/systemd/system/multi-user.target.wants/snapd.autoimport.service → /lib/systemd/system/snapd.autoimport.service.
 Created symlink /etc/systemd/system/multi-user.target.wants/snapd.core-fixup.service → /lib/systemd/system/snapd.core-fixup.service.
 Created symlink /etc/systemd/system/multi-user.target.wants/snapd.recovery-chooser-trigger.service → /lib/systemd/system/snapd.recovery-chooser-trigger.service.
 Created symlink /etc/systemd/system/multi-user.target.wants/snapd.seeded.service → /lib/systemd/system/snapd.seeded.service.
 Created symlink /etc/systemd/system/cloud-final.service.wants/snapd.seeded.service → /lib/systemd/system/snapd.seeded.service.
 Created symlink /etc/systemd/system/multi-user.target.wants/snapd.service → /lib/systemd/system/snapd.service.
 Created symlink /etc/systemd/system/timers.target.wants/snapd.snap-repair.timer → /lib/systemd/system/snapd.snap-repair.timer.
 Created symlink /etc/systemd/system/sockets.target.wants/snapd.socket → /lib/systemd/system/snapd.socket.
 Created symlink /etc/systemd/system/final.target.wants/snapd.system-shutdown.service → /lib/systemd/system/snapd.system-shutdown.service.
 snapd.failure.service is a disabled or a static unit, not starting it.
 snapd.snap-repair.service is a disabled or a static unit, not starting it.
 Processing triggers for mime-support (3.64ubuntu1) ...
 Processing triggers for man-db (2.9.1-1) ...
 Processing triggers for dbus (1.12.16-2ubuntu2.2) ...
 Processing triggers for desktop-file-utils (0.24+linuxmint1) ...
 #+end_example

 We should now have ~snap~ command
 #+BEGIN_SRC bash :eval no-export :results output :exports both
 which snap
 #+END_SRC

 #+RESULTS:
 : /usr/bin/snap

 Show installed snap version
 #+BEGIN_SRC bash :eval no-export :results output
 snap --version
 #+END_SRC

 #+RESULTS:
 : snap       2.55.5+20.04
 : snapd      2.55.5+20.04
 : series     16
 : linuxmint  20.3
 : kernel     5.4.0-113-generic

 Help on usage
 #+BEGIN_SRC bash :eval no-export :results output
 snap --help
 #+END_SRC

 #+RESULTS:
 #+begin_example
 The snap command lets you install, configure, refresh and remove snaps.
 Snaps are packages that work across many different Linux distributions,
 enabling secure delivery and operation of the latest apps and utilities.

 Usage: snap <command> [<options>...]

 Commonly used commands can be classified as follows:

          Basics: find, info, install, remove, list
         ...more: refresh, revert, switch, disable, enable, create-cohort
         History: changes, tasks, abort, watch
         Daemons: services, start, stop, restart, logs
     Permissions: connections, interface, connect, disconnect
   Configuration: get, set, unset, wait
     App Aliases: alias, aliases, unalias, prefer
         Account: login, logout, whoami
       Snapshots: saved, save, check-snapshot, restore, forget
          Device: model, reboot, recovery
       ... Other: warnings, okay, known, ack, version
     Development: download, pack, run, try

 For more information about a command, run 'snap help <command>'.
 For a short summary of all commands, run 'snap help --all'.
 #+end_example


*** ~git~: free and open source distributed version control 

    #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
    sudo apt-get -y install git
    #+END_SRC

    #+RESULTS:
    #+begin_example
   Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
   Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
   Reading state information... 0%Reading state information... 0%Reading state information... Done
    The following additional packages will be installed:
      git-man liberror-perl
    Suggested packages:
      git-daemon-run | git-daemon-sysvinit git-doc git-el git-email git-gui gitk
      gitweb git-cvs git-mediawiki git-svn
    The following NEW packages will be installed:
      git git-man liberror-perl
    0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.
    Need to get 5,471 kB of archives.
    After this operation, 38.4 MB of additional disk space will be used.
   0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu focal/main amd64 liberror-perl all 0.17029-1 [26.5 kB]
   0% [1 liberror-perl 1,167 B/26.5 kB 4%]                                       7% [Working]            Get:2 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 git-man all 1:2.25.1-1ubuntu3.4 [885 kB]
   7% [2 git-man 2,613 B/885 kB 0%]                                27% [Waiting for headers]                         Get:3 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 git amd64 1:2.25.1-1ubuntu3.4 [4,560 kB]
   27% [3 git 6,124 B/4,560 kB 0%]                               100% [Working]              Fetched 5,471 kB in 1s (5,826 kB/s)
    Selecting previously unselected package liberror-perl.
    (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 397322 files and directories currently installed.)
    Preparing to unpack .../liberror-perl_0.17029-1_all.deb ...
    Unpacking liberror-perl (0.17029-1) ...
    Selecting previously unselected package git-man.
    Preparing to unpack .../git-man_1%3a2.25.1-1ubuntu3.4_all.deb ...
    Unpacking git-man (1:2.25.1-1ubuntu3.4) ...
    Selecting previously unselected package git.
    Preparing to unpack .../git_1%3a2.25.1-1ubuntu3.4_amd64.deb ...
    Unpacking git (1:2.25.1-1ubuntu3.4) ...
    Setting up liberror-perl (0.17029-1) ...
    Setting up git-man (1:2.25.1-1ubuntu3.4) ...
    Setting up git (1:2.25.1-1ubuntu3.4) ...
    Processing triggers for man-db (2.9.1-1) ...
    #+end_example



*** ~docker~:  OS-level virtualization to deliver software in packages called containers

  https://docs.docker.com/engine/install/ubuntu/

**** Cleanup docker installation

  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo::
  sudo apt-get remove -y docker docker-engine docker.io containerd runc
  #+END_SRC

  #+RESULTS:
  #+begin_example
 Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
 Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
 Reading state information... 0%Reading state information... 0%Reading state information... Done
  Package 'docker-engine' is not installed, so not removed
  Package 'docker' is not installed, so not removed
  Package 'containerd' is not installed, so not removed
  Package 'docker.io' is not installed, so not removed
  Package 'runc' is not installed, so not removed
  The following packages were automatically installed and are no longer required:
    libllvm8 libllvm8:i386 linux-headers-4.15.0-88
    linux-headers-4.15.0-88-generic linux-image-4.15.0-88-generic
    linux-modules-4.15.0-88-generic linux-modules-extra-4.15.0-88-generic
  Use 'sudo apt autoremove' to remove them.
  0 upgraded, 0 newly installed, 0 to remove and 8 not upgraded.
  #+end_example


**** Set up the docker repository

  Update the apt package index and install packages to allow

  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo::
  sudo apt-get -y update
  #+END_SRC

  #+RESULTS:
  #+begin_example
 0% [Working]            Hit:1 http://archive.ubuntu.com/ubuntu focal InRelease
 0% [Waiting for headers] [Connecting to packages.linuxmint.com (68.235.39.11)]                                                                                Hit:2 http://ppa.launchpad.net/kicad/kicad-6.0-releases/ubuntu focal InRelease
 0% [Waiting for headers] [Waiting for headers] [Connecting to security.ubuntu.c                                                                               Get:3 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
 0% [Waiting for headers] [3 InRelease 0 B/114 kB 0%] [Connecting to security.ub                                                                               Ign:4 http://packages.linuxmint.com una InRelease
 0% [3 InRelease 67.8 kB/114 kB 60%] [Waiting for headers] [Connecting to archiv0% [Waiting for headers] [3 InRelease 72.1 kB/114 kB 63%] [Waiting for headers]0% [Waiting for headers] [Waiting for headers] [Connecting to archive.canonical                                                                               Get:5 http://archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
 0% [Waiting for headers] [5 InRelease 2,603 B/108 kB 2%] [Waiting for headers] 0% [Waiting for headers] [5 InRelease 57.6 kB/108 kB 53%] [Waiting for headers]                                                                               0% [Waiting for headers] [Waiting for headers] [Waiting for headers]                                                                    Hit:6 http://packages.linuxmint.com una Release
                                                                    0% [Waiting for headers] [Waiting for headers]0% [Waiting for headers] [Waiting for headers]                                              Hit:7 http://archive.canonical.com/ubuntu focal InRelease
                                              0% [Waiting for headers]                        Get:8 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 DEP-11 Metadata [278 kB]
 0% [8 Components-amd64 2,687 B/278 kB 1%] [Waiting for headers]                                                               Get:9 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
 0% [8 Components-amd64 108 kB/278 kB 39%] [9 InRelease 1,137 B/114 kB 1%]0% [8 Components-amd64 208 kB/278 kB 75%] [9 InRelease 14.2 kB/114 kB 12%]                                                                          0% [9 InRelease 14.2 kB/114 kB 12%]0% [8 Components-amd64 store 0 B] [Waiting for headers] [9 InRelease 14.2 kB/110% [8 Components-amd64 store 0 B] [Waiting for headers] [9 InRelease 14.2 kB/11                                                                               Get:11 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 DEP-11 Metadata [391 kB]
 0% [8 Components-amd64 store 0 B] [11 Components-amd64 4,135 B/391 kB 1%] [9 In                                                                               0% [11 Components-amd64 243 kB/391 kB 62%] [9 InRelease 14.2 kB/114 kB 12%]                                                                           0% [Waiting for headers] [9 InRelease 14.2 kB/114 kB 12%]                                                         Get:12 http://archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 DEP-11 Metadata [940 B]
 0% [Waiting for headers] [9 InRelease 14.2 kB/114 kB 12%]                                                         Get:13 http://archive.ubuntu.com/ubuntu focal-backports/main amd64 DEP-11 Metadata [9,596 B]
 0% [13 Components-amd64 5,761 B/9,596 B 60%] [9 InRelease 14.2 kB/114 kB 12%]0% [11 Components-amd64 store 0 B] [13 Components-amd64 5,761 B/9,596 B 60%] [9                                                                               Get:14 http://archive.ubuntu.com/ubuntu focal-backports/universe amd64 DEP-11 Metadata [30.8 kB]
 0% [11 Components-amd64 store 0 B] [14 Components-amd64 1,750 B/30.8 kB 6%] [9                                                                                0% [11 Components-amd64 store 0 B] [9 InRelease 14.2 kB/114 kB 12%]0% [11 Components-amd64 store 0 B] [9 InRelease 14.2 kB/114 kB 12%]                                                                   0% [9 InRelease 14.2 kB/114 kB 12%]0% [12 Components-amd64 store 0 B] [9 InRelease 14.2 kB/114 kB 12%]                                                                   0% [9 InRelease 14.2 kB/114 kB 12%]0% [13 Components-amd64 store 0 B] [9 InRelease 14.2 kB/114 kB 12%]                                                                   0% [9 InRelease 14.2 kB/114 kB 12%]0% [14 Components-amd64 store 0 B] [9 InRelease 14.2 kB/114 kB 12%]                                                                   0% [9 InRelease 14.2 kB/114 kB 12%]0% [9 InRelease 89.5 kB/114 kB 79%]                                   0% [Working]92% [Working]             Get:15 http://security.ubuntu.com/ubuntu focal-security/main amd64 DEP-11 Metadata [40.7 kB]
 92% [15 Components-amd64 2,689 B/40.7 kB 7%]                                            95% [Working]95% [15 Components-amd64 store 0 B]                                   95% [Waiting for headers]                         Get:16 http://security.ubuntu.com/ubuntu focal-security/universe amd64 DEP-11 Metadata [66.5 kB]
 95% [16 Components-amd64 2,688 B/66.5 kB 4%]                                            100% [Waiting for headers]                          Get:17 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 DEP-11 Metadata [2,464 B]
 100% [17 Components-amd64 2,464 B/2,464 B 100%]                                               100% [Working]100% [16 Components-amd64 store 0 B]                                    100% [Working]100% [17 Components-amd64 store 0 B]                                    100% [Working]              Fetched 1,156 kB in 2s (566 kB/s)
 Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 3%Reading package lists... 3%Reading package lists... 5%Reading package lists... 5%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 33%Reading package lists... 33%Reading package lists... 47%Reading package lists... 47%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 66%Reading package lists... 66%Reading package lists... 68%Reading package lists... 68%Reading package lists... 71%Reading package lists... 71%Reading package lists... 74%Reading package lists... 74%Reading package lists... 74%Reading package lists... 74%Reading package lists... 75%Reading package lists... 75%Reading package lists... 77%Reading package lists... 78%Reading package lists... 78%Reading package lists... 80%Reading package lists... 80%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 86%Reading package lists... 86%Reading package lists... 87%Reading package lists... 87%Reading package lists... 89%Reading package lists... 89%Reading package lists... 92%Reading package lists... 92%Reading package lists... 92%Reading package lists... 92%Reading package lists... 94%Reading package lists... 94%Reading package lists... 96%Reading package lists... 96%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... Done
  #+end_example


  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo::
  sudo apt-get install -y \
      ca-certificates \
      curl \
      gnupg \
      lsb-release
  #+END_SRC

  #+RESULTS:
  : Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
  : Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
  : Reading state information... 0%Reading state information... 0%Reading state information... Done
  : lsb-release is already the newest version (11.1.0ubuntu2).
  : ca-certificates is already the newest version (20210119~20.04.2).
  : curl is already the newest version (7.68.0-1ubuntu2.10).
  : gnupg is already the newest version (2.2.19-3ubuntu2.1).
  : 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


**** Add docker GPG key

  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo::
  # curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
  curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
  #+END_SRC

  #+RESULTS:


  #+BEGIN_SRC sh :eval no-export :results output :dir /sudo::
  sudo apt-key fingerprint 0EBFCD88
  #+END_SRC

  #+RESULTS:


**** Setup stable repository

  #+BEGIN_SRC bash :eval no-export :results output :exports both
  dpkg --print-architecture
  #+END_SRC

  #+RESULTS:
  : amd64

  #+BEGIN_SRC bash :eval no-export :results output :exports both
  lsb_release -cs
  #+END_SRC

  #+RESULTS:
  : una



  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo::
  echo \
    "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
    $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

  #+END_SRC
  #+RESULTS:



  #+BEGIN_SRC bash :eval no-export :results output :exports both
  cat /etc/apt/sources.list.d/docker.list 
  #+END_SRC

  #+RESULTS:
  : deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu   una stable


  #+begin_example
  E: The repository 'https://download.docker.com/linux/ubuntu una Release' does not have a Release file.
  N: Updating from such a repository can't be done securely, and is therefore disabled by default.
  N: See apt-secure(8) manpage for repository creation and user configuration details.

  #+end_example

  Use codename ~focal~

  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo::
  echo \
    "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
    focal stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

  #+END_SRC

  #+BEGIN_SRC bash :eval no-export :results output :exports both
  cat /etc/apt/sources.list.d/docker.list 
  #+END_SRC

  #+RESULTS:
  : deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu   focal stable


**** Install Docker Engine

  #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
  sudo apt-get update -y
  #+END_SRC

  #+RESULTS:
  #+begin_example
 0% [Working]            Hit:1 http://security.ubuntu.com/ubuntu focal-security InRelease
 0% [Waiting for headers] [Waiting for headers] [Connecting to packages.linuxmin                                                                               Hit:2 http://ppa.launchpad.net/kicad/kicad-6.0-releases/ubuntu focal InRelease
 0% [Waiting for headers] [Waiting for headers] [Waiting for headers] [Connectin                                                                               Get:3 https://download.docker.com/linux/ubuntu focal InRelease [57.7 kB]
 0% [3 InRelease 15.9 kB/57.7 kB 28%] [Waiting for headers] [Waiting for headers0% [Waiting for headers] [Waiting for headers] [Connecting to archive.canonical                                                                               0% [Waiting for headers] [Waiting for headers] [Waiting for headers]                                                                    Hit:4 http://archive.ubuntu.com/ubuntu focal InRelease
                                                                    0% [Waiting for headers] [Waiting for headers]                                              Ign:5 http://packages.linuxmint.com una InRelease
 0% [Waiting for headers] [Waiting for headers]0% [Waiting for headers] [Waiting for headers] [Waiting for headers]                                                                    Hit:6 http://archive.canonical.com/ubuntu focal InRelease
                                                                    0% [Waiting for headers] [Waiting for headers]                                              Hit:7 http://archive.ubuntu.com/ubuntu focal-updates InRelease
                                              0% [Waiting for headers]0% [Waiting for headers] [Waiting for headers]                                              Get:8 https://download.docker.com/linux/ubuntu focal/stable amd64 Packages [15.5 kB]
 0% [8 Packages 15.5 kB/15.5 kB 100%] [Waiting for headers] [Waiting for headers                                                                               0% [Waiting for headers] [Waiting for headers]0% [8 Packages store 0 B] [Waiting for headers] [Waiting for headers]                                                                     0% [Waiting for headers] [Waiting for headers]                                              Hit:9 http://packages.linuxmint.com una Release
                                              0% [Waiting for headers]0% [Waiting for headers]                        Hit:10 http://archive.ubuntu.com/ubuntu focal-backports InRelease
                        0% [Working]0% [Working]0% [Working]0% [Working]100% [Working]              Fetched 73.1 kB in 1s (76.6 kB/s)
 Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 3%Reading package lists... 3%Reading package lists... 5%Reading package lists... 5%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 7%Reading package lists... 33%Reading package lists... 33%Reading package lists... 47%Reading package lists... 47%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 61%Reading package lists... 62%Reading package lists... 62%Reading package lists... 65%Reading package lists... 66%Reading package lists... 66%Reading package lists... 68%Reading package lists... 68%Reading package lists... 71%Reading package lists... 71%Reading package lists... 74%Reading package lists... 74%Reading package lists... 74%Reading package lists... 74%Reading package lists... 75%Reading package lists... 75%Reading package lists... 78%Reading package lists... 78%Reading package lists... 80%Reading package lists... 80%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 81%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 82%Reading package lists... 86%Reading package lists... 86%Reading package lists... 87%Reading package lists... 87%Reading package lists... 89%Reading package lists... 89%Reading package lists... 92%Reading package lists... 92%Reading package lists... 92%Reading package lists... 92%Reading package lists... 94%Reading package lists... 94%Reading package lists... 96%Reading package lists... 96%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... Done
  #+end_example


  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo::
  sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin
  #+END_SRC

  #+RESULTS:
  #+begin_example
 Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
 Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
 Reading state information... 0%Reading state information... 0%Reading state information... Done
  The following additional packages will be installed:
    docker-ce-rootless-extras docker-scan-plugin pigz slirp4netns
  Suggested packages:
    aufs-tools cgroupfs-mount | cgroup-lite
  The following NEW packages will be installed:
    containerd.io docker-ce docker-ce-cli docker-ce-rootless-extras
    docker-compose-plugin docker-scan-plugin pigz slirp4netns
  0 upgraded, 8 newly installed, 0 to remove and 0 not upgraded.
  Need to get 103 MB of archives.
  After this operation, 433 MB of additional disk space will be used.
 0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu focal/universe amd64 pigz amd64 2.4-1 [57.4 kB]
 0% [1 pigz 1,167 B/57.4 kB 2%] [Waiting for headers]                                                    Get:2 https://download.docker.com/linux/ubuntu focal/stable amd64 containerd.io amd64 1.5.11-1 [22.9 MB]
 0% [1 pigz 14.2 kB/57.4 kB 25%] [2 containerd.io 15.9 kB/22.9 MB 0%]                                                                    3% [2 containerd.io 327 kB/22.9 MB 1%]                                      Get:3 http://archive.ubuntu.com/ubuntu focal/universe amd64 slirp4netns amd64 0.4.3-1 [74.3 kB]
 3% [3 slirp4netns 2,614 B/74.3 kB 4%] [2 containerd.io 622 kB/22.9 MB 3%]                                                                         6% [2 containerd.io 966 kB/22.9 MB 4%]10% [2 containerd.io 6,291 kB/22.9 MB 27%]                                          15% [2 containerd.io 12.2 MB/22.9 MB 53%]19% [2 containerd.io 18.0 MB/22.9 MB 79%]23% [2 containerd.io 22.9 MB/22.9 MB 100%]                                          25% [Working]             Get:4 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-ce-cli amd64 5:20.10.14~3-0~ubuntu-focal [41.0 MB]
 25% [4 docker-ce-cli 15.9 kB/41.0 MB 0%]30% [4 docker-ce-cli 5,750 kB/41.0 MB 14%]                                          34% [4 docker-ce-cli 11.6 MB/41.0 MB 28%]39% [4 docker-ce-cli 17.4 MB/41.0 MB 43%]43% [4 docker-ce-cli 23.3 MB/41.0 MB 57%]48% [4 docker-ce-cli 29.1 MB/41.0 MB 71%]53% [4 docker-ce-cli 35.0 MB/41.0 MB 85%]57% [4 docker-ce-cli 40.8 MB/41.0 MB 100%]60% [Waiting for headers]                                          10.5 MB/s 3s                                                                               Get:5 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-ce amd64 5:20.10.14~3-0~ubuntu-focal [20.9 MB]
 60% [5 docker-ce 0 B/20.9 MB 0%]                                   10.5 MB/s 3s66% [5 docker-ce 7,929 kB/20.9 MB 38%]                             10.5 MB/s 2s70% [5 docker-ce 13.6 MB/20.9 MB 65%]                              10.5 MB/s 2s75% [5 docker-ce 19.4 MB/20.9 MB 93%]                              10.5 MB/s 1s78% [Working]                                                      10.5 MB/s 1s                                                                               Get:6 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-ce-rootless-extras amd64 5:20.10.14~3-0~ubuntu-focal [7,932 kB]
 78% [6 docker-ce-rootless-extras 0 B/7,932 kB 0%]                  10.5 MB/s 1s84% [6 docker-ce-rootless-extras 7,077 kB/7,932 kB 89%]            10.5 MB/s 1s87% [Waiting for headers]                                          10.5 MB/s 0s                                                                               Get:7 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-compose-plugin amd64 2.3.3~ubuntu-focal [6,618 kB]
 87% [7 docker-compose-plugin 4,096 B/6,618 kB 0%]                  10.5 MB/s 0s92% [7 docker-compose-plugin 5,865 kB/6,618 kB 89%]                10.5 MB/s 0s95% [Waiting for headers]                                          10.5 MB/s 0s                                                                               Get:8 https://download.docker.com/linux/ubuntu focal/stable amd64 docker-scan-plugin amd64 0.17.0~ubuntu-focal [3,521 kB]
 95% [8 docker-scan-plugin 15.9 kB/3,521 kB 0%]                     10.5 MB/s 0s100% [Working]                                                     10.5 MB/s 0s                                                                               Fetched 103 MB in 9s (11.1 MB/s)
  Selecting previously unselected package pigz.
  (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 398256 files and directories currently installed.)
  Preparing to unpack .../0-pigz_2.4-1_amd64.deb ...
  Unpacking pigz (2.4-1) ...
  Selecting previously unselected package containerd.io.
  Preparing to unpack .../1-containerd.io_1.5.11-1_amd64.deb ...
  Unpacking containerd.io (1.5.11-1) ...
  Selecting previously unselected package docker-ce-cli.
  Preparing to unpack .../2-docker-ce-cli_5%3a20.10.14~3-0~ubuntu-focal_amd64.deb ...
  Unpacking docker-ce-cli (5:20.10.14~3-0~ubuntu-focal) ...
  Selecting previously unselected package docker-ce.
  Preparing to unpack .../3-docker-ce_5%3a20.10.14~3-0~ubuntu-focal_amd64.deb ...
  Unpacking docker-ce (5:20.10.14~3-0~ubuntu-focal) ...
  Selecting previously unselected package docker-ce-rootless-extras.
  Preparing to unpack .../4-docker-ce-rootless-extras_5%3a20.10.14~3-0~ubuntu-focal_amd64.deb ...
  Unpacking docker-ce-rootless-extras (5:20.10.14~3-0~ubuntu-focal) ...
  Selecting previously unselected package docker-compose-plugin.
  Preparing to unpack .../5-docker-compose-plugin_2.3.3~ubuntu-focal_amd64.deb ...
  Unpacking docker-compose-plugin (2.3.3~ubuntu-focal) ...
  Selecting previously unselected package docker-scan-plugin.
  Preparing to unpack .../6-docker-scan-plugin_0.17.0~ubuntu-focal_amd64.deb ...
  Unpacking docker-scan-plugin (0.17.0~ubuntu-focal) ...
  Selecting previously unselected package slirp4netns.
  Preparing to unpack .../7-slirp4netns_0.4.3-1_amd64.deb ...
  Unpacking slirp4netns (0.4.3-1) ...
  Setting up slirp4netns (0.4.3-1) ...
  Setting up docker-scan-plugin (0.17.0~ubuntu-focal) ...
  Setting up containerd.io (1.5.11-1) ...
  Created symlink /etc/systemd/system/multi-user.target.wants/containerd.service → /lib/systemd/system/containerd.service.
  Setting up docker-compose-plugin (2.3.3~ubuntu-focal) ...
  Setting up docker-ce-cli (5:20.10.14~3-0~ubuntu-focal) ...
  Setting up pigz (2.4-1) ...
  Setting up docker-ce-rootless-extras (5:20.10.14~3-0~ubuntu-focal) ...
  Setting up docker-ce (5:20.10.14~3-0~ubuntu-focal) ...
  Created symlink /etc/systemd/system/multi-user.target.wants/docker.service → /lib/systemd/system/docker.service.
  Created symlink /etc/systemd/system/sockets.target.wants/docker.socket → /lib/systemd/system/docker.socket.
  Processing triggers for man-db (2.9.1-1) ...
  Processing triggers for systemd (245.4-4ubuntu3.16) ...
  #+end_example


**** Docker hello-world

  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo::
  sudo docker run hello-world
  #+END_SRC

  #+RESULTS:
  #+begin_example

  Hello from Docker!
  This message shows that your installation appears to be working correctly.

  To generate this message, Docker took the following steps:
   1. The Docker client contacted the Docker daemon.
   2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
      (amd64)
   3. The Docker daemon created a new container from that image which runs the
      executable that produces the output you are currently reading.
   4. The Docker daemon streamed that output to the Docker client, which sent it
      to your terminal.

  To try something more ambitious, you can run an Ubuntu container with:
   $ docker run -it ubuntu bash

  Share images, automate workflows, and more with a free Docker ID:
   https://hub.docker.com/

  For more examples and ideas, visit:
   https://docs.docker.com/get-started/

  #+end_example



**** Docker post install

  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo::
  sudo groupadd docker
  #+END_SRC

  #+RESULTS:

  #+BEGIN_SRC sh :eval no-export :results output
  newgrp docker
  #+END_SRC


  #+RESULTS:

  #+BEGIN_SRC sh :eval no-export :results output :dir /sudo::
  sudo usermod -aG docker hacklab
  #+END_SRC

  #+RESULTS:

  #+BEGIN_SRC sh :eval no-export :results output
  cat /etc/group | grep hacklab
  #+END_SRC

  #+RESULTS:
  : adm:x:4:syslog,hacklab
  : cdrom:x:24:hacklab
  : sudo:x:27:hacklab
  : dip:x:30:hacklab
  : plugdev:x:46:hacklab
  : lpadmin:x:115:hacklab
  : hacklab:x:1000:
  : sambashare:x:135:hacklab
  : docker:x:999:hacklab

  Logout and rerun groups command again

  #+BEGIN_SRC sh :eval no-export :results output :exports both
  groups
  #+END_SRC

  #+RESULTS:
  : hacklab adm cdrom sudo dip plugdev lpadmin sambashare docker


*** ~docker-compose~: tool for defining and running multi-container Docker applications
    :PROPERTIES:
    :header-args+: :var  DOCKER_VERSION="2.5.0"
    :END:



  ref https://www.digitalocean.com/community/tutorials/how-to-install-docker-compose-on-ubuntu-18-04

  ref https://docs.docker.com/compose/install/


 Check releases https://github.com/docker/compose/releases


 #+BEGIN_SRC bash :eval no-export :results output :exports both
 echo DOCKER_VERSION=$DOCKER_VERSION
 #+END_SRC

 #+RESULTS:
 : DOCKER_VERSION=2.5.0


  Install DOCKER_VERSION 
  #+BEGIN_SRC sh :eval no-export :results output  :dir /sudo:: 
  # curl -L https://github.com/docker/compose/releases/download/1.25.4/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose
  # curl -L https://github.com/docker/compose/releases/download/V${DOCKER_VERSION}/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose
  curl -SL https://github.com/docker/compose/releases/download/v${DOCKER_VERSION}/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose
  chmod +755 /usr/local/bin/docker-compose
  #+END_SRC

  #+RESULTS:

  Show that ~docker-compose~ is there
  #+BEGIN_SRC sh :eval no-export :results output :exports both
  ls -ltr /usr/local/bin/docker-compose
  #+END_SRC

  #+RESULTS:
  : -rwxr-xr-x 1 root root 26525696 May  2 11:16 /usr/local/bin/docker-compose


  #+BEGIN_SRC bash :eval no-export :results output :exports both
  /usr/local/bin/docker-compose --version
  #+END_SRC

  #+RESULTS:
  : Docker Compose version v2.5.0


*** ~openscad~: software for creating solid 3D CAD objects.

 #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
 sudo apt-get -y install openscad
 #+END_SRC

 #+RESULTS:
 #+begin_example
Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
Reading state information... 0%Reading state information... 0%Reading state information... Done
 The following packages were automatically installed and are no longer required:
   lib32gcc-s1 libcuda1-340 libxnvctrl0 nvidia-settings screen-resolution-extra
 Use 'sudo apt autoremove' to remove them.
 The following additional packages will be installed:
   lib3mf1 libboost-program-options1.71.0 libboost-regex1.71.0 libopencsg1
   libqscintilla2-qt5-15 libqscintilla2-qt5-l10n libqt5gamepad5
   libqt5multimedia5 libqt5printsupport5 libspnav0 openscad-mcad
 Suggested packages:
   libqscintilla2-doc spacenavd meshlab geomview librecad openscad-testing
 The following NEW packages will be installed:
   lib3mf1 libboost-program-options1.71.0 libboost-regex1.71.0 libopencsg1
   libqscintilla2-qt5-15 libqscintilla2-qt5-l10n libqt5gamepad5
   libqt5multimedia5 libqt5printsupport5 libspnav0 openscad openscad-mcad
 0 upgraded, 12 newly installed, 0 to remove and 0 not upgraded.
 Need to get 6,034 kB of archives.
 After this operation, 27.5 MB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu focal/universe amd64 lib3mf1 amd64 1.8.1+ds-3 [382 kB]
0% [1 lib3mf1 1,165 B/382 kB 0%]                                7% [Working]            Get:2 http://archive.ubuntu.com/ubuntu focal/main amd64 libboost-program-options1.71.0 amd64 1.71.0-6ubuntu6 [342 kB]
7% [2 libboost-program-options1.71.0 4,061 B/342 kB 1%]                                                       13% [Waiting for headers]                         Get:3 http://archive.ubuntu.com/ubuntu focal/universe amd64 libboost-regex1.71.0 amd64 1.71.0-6ubuntu6 [471 kB]
13% [3 libboost-regex1.71.0 3,682 B/471 kB 1%]                                              21% [Waiting for headers]                         Get:4 http://archive.ubuntu.com/ubuntu focal/universe amd64 libopencsg1 amd64 1.4.2-3 [188 kB]
21% [4 libopencsg1 6,295 B/188 kB 3%]                                     25% [Waiting for headers]                         Get:5 http://archive.ubuntu.com/ubuntu focal/universe amd64 libqscintilla2-qt5-l10n all 2.11.2+dfsg-6 [41.3 kB]
25% [5 libqscintilla2-qt5-l10n 3,670 B/41.3 kB 9%]                                                  27% [Waiting for headers]                         Get:6 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 libqt5printsupport5 amd64 5.12.8+dfsg-0ubuntu2.1 [193 kB]
27% [6 libqt5printsupport5 4,031 B/193 kB 2%]                                             31% [Waiting for headers]                         Get:7 http://archive.ubuntu.com/ubuntu focal/universe amd64 libqscintilla2-qt5-15 amd64 2.11.2+dfsg-6 [1,238 kB]
32% [7 libqscintilla2-qt5-15 20.7 kB/1,238 kB 2%]                                                 50% [Waiting for headers]                         Get:8 http://archive.ubuntu.com/ubuntu focal/universe amd64 libqt5gamepad5 amd64 5.12.8-0ubuntu1 [59.6 kB]
50% [8 libqt5gamepad5 27.6 kB/59.6 kB 46%]                                          52% [Waiting for headers]                         Get:9 http://archive.ubuntu.com/ubuntu focal/universe amd64 libqt5multimedia5 amd64 5.12.8-0ubuntu1 [283 kB]
52% [9 libqt5multimedia5 33.3 kB/283 kB 12%]                                            57% [Waiting for headers]                         Get:10 http://archive.ubuntu.com/ubuntu focal/universe amd64 libspnav0 amd64 0.2.3-1 [8,552 B]
57% [10 libspnav0 8,552 B/8,552 B 100%]                                       59% [Waiting for headers]                         Get:11 http://archive.ubuntu.com/ubuntu focal/universe amd64 openscad amd64 2019.05-3ubuntu5 [2,785 kB]
60% [11 openscad 38.0 kB/2,785 kB 1%]                                     98% [Waiting for headers]                         Get:12 http://archive.ubuntu.com/ubuntu focal/universe amd64 openscad-mcad all 2019.05-1 [44.0 kB]
98% [12 openscad-mcad 7,128 B/44.0 kB 16%]                                          100% [Working]              Fetched 6,034 kB in 1s (5,858 kB/s)
 Selecting previously unselected package lib3mf1:amd64.
 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 434813 files and directories currently installed.)
 Preparing to unpack .../00-lib3mf1_1.8.1+ds-3_amd64.deb ...
 Unpacking lib3mf1:amd64 (1.8.1+ds-3) ...
 Selecting previously unselected package libboost-program-options1.71.0:amd64.
 Preparing to unpack .../01-libboost-program-options1.71.0_1.71.0-6ubuntu6_amd64.deb ...
 Unpacking libboost-program-options1.71.0:amd64 (1.71.0-6ubuntu6) ...
 Selecting previously unselected package libboost-regex1.71.0:amd64.
 Preparing to unpack .../02-libboost-regex1.71.0_1.71.0-6ubuntu6_amd64.deb ...
 Unpacking libboost-regex1.71.0:amd64 (1.71.0-6ubuntu6) ...
 Selecting previously unselected package libopencsg1:amd64.
 Preparing to unpack .../03-libopencsg1_1.4.2-3_amd64.deb ...
 Unpacking libopencsg1:amd64 (1.4.2-3) ...
 Selecting previously unselected package libqscintilla2-qt5-l10n.
 Preparing to unpack .../04-libqscintilla2-qt5-l10n_2.11.2+dfsg-6_all.deb ...
 Unpacking libqscintilla2-qt5-l10n (2.11.2+dfsg-6) ...
 Selecting previously unselected package libqt5printsupport5:amd64.
 Preparing to unpack .../05-libqt5printsupport5_5.12.8+dfsg-0ubuntu2.1_amd64.deb ...
 Unpacking libqt5printsupport5:amd64 (5.12.8+dfsg-0ubuntu2.1) ...
 Selecting previously unselected package libqscintilla2-qt5-15.
 Preparing to unpack .../06-libqscintilla2-qt5-15_2.11.2+dfsg-6_amd64.deb ...
 Unpacking libqscintilla2-qt5-15 (2.11.2+dfsg-6) ...
 Selecting previously unselected package libqt5gamepad5:amd64.
 Preparing to unpack .../07-libqt5gamepad5_5.12.8-0ubuntu1_amd64.deb ...
 Unpacking libqt5gamepad5:amd64 (5.12.8-0ubuntu1) ...
 Selecting previously unselected package libqt5multimedia5:amd64.
 Preparing to unpack .../08-libqt5multimedia5_5.12.8-0ubuntu1_amd64.deb ...
 Unpacking libqt5multimedia5:amd64 (5.12.8-0ubuntu1) ...
 Selecting previously unselected package libspnav0.
 Preparing to unpack .../09-libspnav0_0.2.3-1_amd64.deb ...
 Unpacking libspnav0 (0.2.3-1) ...
 Selecting previously unselected package openscad.
 Preparing to unpack .../10-openscad_2019.05-3ubuntu5_amd64.deb ...
 Unpacking openscad (2019.05-3ubuntu5) ...
 Selecting previously unselected package openscad-mcad.
 Preparing to unpack .../11-openscad-mcad_2019.05-1_all.deb ...
 Unpacking openscad-mcad (2019.05-1) ...
 Setting up libqscintilla2-qt5-l10n (2.11.2+dfsg-6) ...
 Setting up libqt5multimedia5:amd64 (5.12.8-0ubuntu1) ...
 Setting up libqt5printsupport5:amd64 (5.12.8+dfsg-0ubuntu2.1) ...
 Setting up libopencsg1:amd64 (1.4.2-3) ...
 Setting up openscad-mcad (2019.05-1) ...
 Setting up libboost-regex1.71.0:amd64 (1.71.0-6ubuntu6) ...
 Setting up lib3mf1:amd64 (1.8.1+ds-3) ...
 Setting up libspnav0 (0.2.3-1) ...
 Setting up libqt5gamepad5:amd64 (5.12.8-0ubuntu1) ...
 Setting up libboost-program-options1.71.0:amd64 (1.71.0-6ubuntu6) ...
 Setting up libqscintilla2-qt5-15 (2.11.2+dfsg-6) ...
 Setting up openscad (2019.05-3ubuntu5) ...
 Processing triggers for mime-support (3.64ubuntu1) ...
 Processing triggers for doc-base (0.10.9) ...
 Processing 1 added doc-base file...
 Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
 Processing triggers for man-db (2.9.1-1) ...
 Processing triggers for shared-mime-info (1.15-1) ...
 Processing triggers for desktop-file-utils (0.24+linuxmint1) ...
 #+end_example

 #+BEGIN_SRC bash :eval no-export :results output
 openscad --help 2>&1 ;true
 #+END_SRC

 #+RESULTS:
 #+begin_example
 Usage: openscad [options] file.scad
 Allowed options:
   -o [ --o ] arg               output specified file instead of running the 
				GUI, the file extension specifies the type: stl,
				off, amf, 3mf, csg, dxf, svg, png, echo, ast, 
				term, nef3, nefdbg
                               
   -D [ --D ] arg               var=val -pre-define variables
   -p [ --p ] arg               customizer parameter file
   -P [ --P ] arg               customizer parameter set
   -h [ --help ]                print this help message and exit
   -v [ --version ]             print the version
   --info                       print information about the build process
                               
   --camera arg                 camera parameters when exporting png: 
				=translate_x,y,z,rot_x,y,z,dist or 
				=eye_x,y,z,center_x,y,z
   --autocenter                 adjust camera to look at object's center
   --viewall                    adjust camera to fit object
   --imgsize arg                =width,height of exported png
   --render arg                 for full geometry evaluation when exporting png
   --preview arg                [=throwntogether] -for ThrownTogether preview 
				png
   --view arg                   =view options: axes | crosshairs | edges | 
				scales | wireframe
   --projection arg             =(o)rtho or (p)erspective when exporting png
   --csglimit arg               =n -stop rendering at n CSG elements when 
				exporting png
   --colorscheme arg            =colorscheme: *Cornfield | Metallic | Sunset | 
				Starnight | BeforeDawn | Nature | DeepOcean | 
				Solarized | Tomorrow | Tomorrow Night | Monotone
                               
   -d [ --d ] arg               deps_file -generate a dependency file for make
   -m [ --m ] arg               make_cmd -runs make_cmd file if file is missing
   -q [ --quiet ]               quiet mode (don't print anything *except* 
				errors)
   --hardwarnings               Stop on the first warning
   --check-parameters arg       =true/false, configure the parameter check for 
				user modules and functions
   --check-parameter-ranges arg =true/false, configure the parameter range check
				for builtin modules
   --debug arg                  special debug info
   -s [ --s ] arg               stl_file deprecated, use -o
   -x [ --x ] arg               dxf_file deprecated, use -o

 #+end_example


*** ~gimp~: GNU Image Manipulation Program

 #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
 sudo apt-get -y install gimp
 #+END_SRC

 #+RESULTS:
 #+begin_example
Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
Reading state information... 0%Reading state information... 0%Reading state information... Done
 The following packages were automatically installed and are no longer required:
   lib32gcc-s1 libcuda1-340 libxnvctrl0 nvidia-settings screen-resolution-extra
 Use 'sudo apt autoremove' to remove them.
 The following additional packages will be installed:
   gimp-data libamd2 libbabl-0.1-0 libblas3 libcamd2 libccolamd2 libcholmod3
   libgegl-0.4-0 libgegl-common libgexiv2-2 libgfortran5 libgimp2.0 libheif1
   liblapack3 libmetis5 libmng2 libmypaint-1.5-1 libmypaint-common libumfpack5
 Suggested packages:
   gimp-help-en | gimp-help gimp-data-extras
 The following NEW packages will be installed:
   gimp gimp-data libamd2 libbabl-0.1-0 libblas3 libcamd2 libccolamd2
   libcholmod3 libgegl-0.4-0 libgegl-common libgexiv2-2 libgfortran5 libgimp2.0
   libheif1 liblapack3 libmetis5 libmng2 libmypaint-1.5-1 libmypaint-common
   libumfpack5
 0 upgraded, 20 newly installed, 0 to remove and 138 not upgraded.
 Need to get 18.2 MB of archives.
 After this operation, 99.4 MB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu focal/universe amd64 libbabl-0.1-0 amd64 0.1.74-1 [272 kB]
0% [1 libbabl-0.1-0 2,613 B/272 kB 1%]1% [1 libbabl-0.1-0 159 kB/272 kB 59%]                                      2% [Working]            Get:2 http://archive.ubuntu.com/ubuntu focal/main amd64 libamd2 amd64 1:5.7.1+dfsg-2 [20.0 kB]
2% [2 libamd2 2,615 B/20.0 kB 13%]                                  3% [Waiting for headers]                        Get:3 http://archive.ubuntu.com/ubuntu focal/main amd64 libblas3 amd64 3.9.0-1build1 [142 kB]
3% [3 libblas3 2,636 B/142 kB 2%]                                 5% [Waiting for headers]                        Get:4 http://archive.ubuntu.com/ubuntu focal/main amd64 libcamd2 amd64 1:5.7.1+dfsg-2 [21.7 kB]
5% [4 libcamd2 1,271 B/21.7 kB 6%]                                  6% [Waiting for headers]                        Get:5 http://archive.ubuntu.com/ubuntu focal/main amd64 libccolamd2 amd64 1:5.7.1+dfsg-2 [23.2 kB]
6% [5 libccolamd2 1,026 B/23.2 kB 4%]                                     7% [Waiting for headers]                        Get:6 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 libgfortran5 amd64 10.3.0-1ubuntu1~20.04 [736 kB]
7% [6 libgfortran5 2,111 B/736 kB 0%]                                     11% [Waiting for headers]                         Get:7 http://archive.ubuntu.com/ubuntu focal/main amd64 liblapack3 amd64 3.9.0-1build1 [2,154 kB]
11% [7 liblapack3 998 B/2,154 kB 0%]                                    22% [Waiting for headers]                         Get:8 http://archive.ubuntu.com/ubuntu focal/main amd64 libmetis5 amd64 5.1.0.dfsg-5 [169 kB]
22% [8 libmetis5 23.5 kB/169 kB 14%]                                    24% [Waiting for headers]                         Get:9 http://archive.ubuntu.com/ubuntu focal/main amd64 libcholmod3 amd64 1:5.7.1+dfsg-2 [308 kB]
24% [9 libcholmod3 8,002 B/308 kB 3%]                                     26% [Working]             Get:10 http://archive.ubuntu.com/ubuntu focal/main amd64 libumfpack5 amd64 1:5.7.1+dfsg-2 [229 kB]
26% [10 libumfpack5 9,623 B/229 kB 4%]                                      28% [Working]             Get:11 http://archive.ubuntu.com/ubuntu focal/universe amd64 libgegl-common all 0.4.22-3 [599 kB]
28% [11 libgegl-common 3,496 B/599 kB 1%]                                         32% [Working]             Get:12 http://archive.ubuntu.com/ubuntu focal/universe amd64 libgegl-0.4-0 amd64 0.4.22-3 [919 kB]
32% [12 libgegl-0.4-0 12.1 kB/919 kB 1%]                                        37% [Working]             Get:13 http://archive.ubuntu.com/ubuntu focal/main amd64 libgexiv2-2 amd64 0.12.0-2 [51.0 kB]
37% [13 libgexiv2-2 12.0 kB/51.0 kB 24%]                                        38% [Waiting for headers]                         Get:14 http://archive.ubuntu.com/ubuntu focal/universe amd64 libgimp2.0 amd64 2.10.18-1 [428 kB]
38% [14 libgimp2.0 8,557 B/428 kB 2%]                                     41% [Waiting for headers]                         Get:15 http://archive.ubuntu.com/ubuntu focal/universe amd64 gimp-data all 2.10.18-1 [7,322 kB]
41% [15 gimp-data 20.0 kB/7,322 kB 0%]56% [15 gimp-data 3,411 kB/7,322 kB 47%]72% [15 gimp-data 7,183 kB/7,322 kB 98%]                                        74% [Waiting for headers]                         Get:16 http://archive.ubuntu.com/ubuntu focal/universe amd64 libheif1 amd64 1.6.1-1build1 [164 kB]
74% [16 libheif1 8,192 B/164 kB 5%]                                   76% [Waiting for headers]                         Get:17 http://archive.ubuntu.com/ubuntu focal/universe amd64 libmng2 amd64 2.0.3+dfsg-3 [168 kB]
76% [17 libmng2 4,987 B/168 kB 3%]                                  77% [Waiting for headers]                         Get:18 http://archive.ubuntu.com/ubuntu focal/universe amd64 libmypaint-common all 1.5.1-1 [139 kB]
77% [18 libmypaint-common 9,135 B/139 kB 7%]                                            79% [Waiting for headers]                         Get:19 http://archive.ubuntu.com/ubuntu focal/universe amd64 libmypaint-1.5-1 amd64 1.5.1-1 [48.2 kB]
79% [19 libmypaint-1.5-1 290 B/48.2 kB 1%]                                          80% [Waiting for headers]                         Get:20 http://archive.ubuntu.com/ubuntu focal/universe amd64 gimp amd64 2.10.18-1 [4,286 kB]
80% [20 gimp 3,913 B/4,286 kB 0%]                                 100% [Working]              Fetched 18.2 MB in 3s (5,362 kB/s)
 Selecting previously unselected package libbabl-0.1-0:amd64.
 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 435073 files and directories currently installed.)
 Preparing to unpack .../00-libbabl-0.1-0_0.1.74-1_amd64.deb ...
 Unpacking libbabl-0.1-0:amd64 (0.1.74-1) ...
 Selecting previously unselected package libamd2:amd64.
 Preparing to unpack .../01-libamd2_1%3a5.7.1+dfsg-2_amd64.deb ...
 Unpacking libamd2:amd64 (1:5.7.1+dfsg-2) ...
 Selecting previously unselected package libblas3:amd64.
 Preparing to unpack .../02-libblas3_3.9.0-1build1_amd64.deb ...
 Unpacking libblas3:amd64 (3.9.0-1build1) ...
 Selecting previously unselected package libcamd2:amd64.
 Preparing to unpack .../03-libcamd2_1%3a5.7.1+dfsg-2_amd64.deb ...
 Unpacking libcamd2:amd64 (1:5.7.1+dfsg-2) ...
 Selecting previously unselected package libccolamd2:amd64.
 Preparing to unpack .../04-libccolamd2_1%3a5.7.1+dfsg-2_amd64.deb ...
 Unpacking libccolamd2:amd64 (1:5.7.1+dfsg-2) ...
 Selecting previously unselected package libgfortran5:amd64.
 Preparing to unpack .../05-libgfortran5_10.3.0-1ubuntu1~20.04_amd64.deb ...
 Unpacking libgfortran5:amd64 (10.3.0-1ubuntu1~20.04) ...
 Selecting previously unselected package liblapack3:amd64.
 Preparing to unpack .../06-liblapack3_3.9.0-1build1_amd64.deb ...
 Unpacking liblapack3:amd64 (3.9.0-1build1) ...
 Selecting previously unselected package libmetis5:amd64.
 Preparing to unpack .../07-libmetis5_5.1.0.dfsg-5_amd64.deb ...
 Unpacking libmetis5:amd64 (5.1.0.dfsg-5) ...
 Selecting previously unselected package libcholmod3:amd64.
 Preparing to unpack .../08-libcholmod3_1%3a5.7.1+dfsg-2_amd64.deb ...
 Unpacking libcholmod3:amd64 (1:5.7.1+dfsg-2) ...
 Selecting previously unselected package libumfpack5:amd64.
 Preparing to unpack .../09-libumfpack5_1%3a5.7.1+dfsg-2_amd64.deb ...
 Unpacking libumfpack5:amd64 (1:5.7.1+dfsg-2) ...
 Selecting previously unselected package libgegl-common.
 Preparing to unpack .../10-libgegl-common_0.4.22-3_all.deb ...
 Unpacking libgegl-common (0.4.22-3) ...
 Selecting previously unselected package libgegl-0.4-0:amd64.
 Preparing to unpack .../11-libgegl-0.4-0_0.4.22-3_amd64.deb ...
 Unpacking libgegl-0.4-0:amd64 (0.4.22-3) ...
 Selecting previously unselected package libgexiv2-2:amd64.
 Preparing to unpack .../12-libgexiv2-2_0.12.0-2_amd64.deb ...
 Unpacking libgexiv2-2:amd64 (0.12.0-2) ...
 Selecting previously unselected package libgimp2.0.
 Preparing to unpack .../13-libgimp2.0_2.10.18-1_amd64.deb ...
 Unpacking libgimp2.0 (2.10.18-1) ...
 Selecting previously unselected package gimp-data.
 Preparing to unpack .../14-gimp-data_2.10.18-1_all.deb ...
 Unpacking gimp-data (2.10.18-1) ...
 Selecting previously unselected package libheif1:amd64.
 Preparing to unpack .../15-libheif1_1.6.1-1build1_amd64.deb ...
 Unpacking libheif1:amd64 (1.6.1-1build1) ...
 Selecting previously unselected package libmng2:amd64.
 Preparing to unpack .../16-libmng2_2.0.3+dfsg-3_amd64.deb ...
 Unpacking libmng2:amd64 (2.0.3+dfsg-3) ...
 Selecting previously unselected package libmypaint-common.
 Preparing to unpack .../17-libmypaint-common_1.5.1-1_all.deb ...
 Unpacking libmypaint-common (1.5.1-1) ...
 Selecting previously unselected package libmypaint-1.5-1:amd64.
 Preparing to unpack .../18-libmypaint-1.5-1_1.5.1-1_amd64.deb ...
 Unpacking libmypaint-1.5-1:amd64 (1.5.1-1) ...
 Selecting previously unselected package gimp.
 Preparing to unpack .../19-gimp_2.10.18-1_amd64.deb ...
 Unpacking gimp (2.10.18-1) ...
 Setting up libamd2:amd64 (1:5.7.1+dfsg-2) ...
 Setting up libmng2:amd64 (2.0.3+dfsg-3) ...
 Setting up libmypaint-common (1.5.1-1) ...
 Setting up libbabl-0.1-0:amd64 (0.1.74-1) ...
 Setting up libheif1:amd64 (1.6.1-1build1) ...
 Setting up libmetis5:amd64 (5.1.0.dfsg-5) ...
 Setting up libmypaint-1.5-1:amd64 (1.5.1-1) ...
 Setting up libcamd2:amd64 (1:5.7.1+dfsg-2) ...
 Setting up libblas3:amd64 (3.9.0-1build1) ...
 update-alternatives: using /usr/lib/x86_64-linux-gnu/blas/libblas.so.3 to provide /usr/lib/x86_64-linux-gnu/libblas.so.3 (libblas.so.3-x86_64-linux-gnu) in auto mode
 Setting up libgfortran5:amd64 (10.3.0-1ubuntu1~20.04) ...
 Setting up gimp-data (2.10.18-1) ...
 Setting up libccolamd2:amd64 (1:5.7.1+dfsg-2) ...
 Setting up libgegl-common (0.4.22-3) ...
 Setting up libgexiv2-2:amd64 (0.12.0-2) ...
 Setting up liblapack3:amd64 (3.9.0-1build1) ...
 update-alternatives: using /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3 to provide /usr/lib/x86_64-linux-gnu/liblapack.so.3 (liblapack.so.3-x86_64-linux-gnu) in auto mode
 Setting up libcholmod3:amd64 (1:5.7.1+dfsg-2) ...
 Setting up libumfpack5:amd64 (1:5.7.1+dfsg-2) ...
 Setting up libgegl-0.4-0:amd64 (0.4.22-3) ...
 Setting up libgimp2.0 (2.10.18-1) ...
 Setting up gimp (2.10.18-1) ...
 Processing triggers for mime-support (3.64ubuntu1) ...
 Processing triggers for hicolor-icon-theme (0.17-2) ...
 Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
 Processing triggers for man-db (2.9.1-1) ...
 Processing triggers for desktop-file-utils (0.24+linuxmint1) ...
 #+end_example

 #+BEGIN_SRC bash :eval no-export :results output
 openscad --help 2>&1 ;true
 #+END_SRC

 #+RESULTS:
 #+begin_example
 Usage: openscad [options] file.scad
 Allowed options:
   -o [ --o ] arg               output specified file instead of running the 
				GUI, the file extension specifies the type: stl,
				off, amf, 3mf, csg, dxf, svg, png, echo, ast, 
				term, nef3, nefdbg
                               
   -D [ --D ] arg               var=val -pre-define variables
   -p [ --p ] arg               customizer parameter file
   -P [ --P ] arg               customizer parameter set
   -h [ --help ]                print this help message and exit
   -v [ --version ]             print the version
   --info                       print information about the build process
                               
   --camera arg                 camera parameters when exporting png: 
				=translate_x,y,z,rot_x,y,z,dist or 
				=eye_x,y,z,center_x,y,z
   --autocenter                 adjust camera to look at object's center
   --viewall                    adjust camera to fit object
   --imgsize arg                =width,height of exported png
   --render arg                 for full geometry evaluation when exporting png
   --preview arg                [=throwntogether] -for ThrownTogether preview 
				png
   --view arg                   =view options: axes | crosshairs | edges | 
				scales | wireframe
   --projection arg             =(o)rtho or (p)erspective when exporting png
   --csglimit arg               =n -stop rendering at n CSG elements when 
				exporting png
   --colorscheme arg            =colorscheme: *Cornfield | Metallic | Sunset | 
				Starnight | BeforeDawn | Nature | DeepOcean | 
				Solarized | Tomorrow | Tomorrow Night | Monotone
                               
   -d [ --d ] arg               deps_file -generate a dependency file for make
   -m [ --m ] arg               make_cmd -runs make_cmd file if file is missing
   -q [ --quiet ]               quiet mode (don't print anything *except* 
				errors)
   --hardwarnings               Stop on the first warning
   --check-parameters arg       =true/false, configure the parameter check for 
				user modules and functions
   --check-parameter-ranges arg =true/false, configure the parameter range check
				for builtin modules
   --debug arg                  special debug info
   -s [ --s ] arg               stl_file deprecated, use -o
   -x [ --x ] arg               dxf_file deprecated, use -o

 #+end_example


*** ~lxi-tools~: a tool for controlling LXI compatible instruments

 Ref: https://github.com/lxi-tools/lxi-tools

**** Install ~lxi-tools~ -package

 Snap package includes ~lxi-gui~, which was missing from os-distribution
 #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
 # sudo apt-get install -y lxi-tools
 # sudo apt-get purge -y lxi-tools
 # sudo apt-get remove -y lxi-tools
 sudo snap install lxi-tools
 #+END_SRC

 #+RESULTS:
 : 2022-10-06T09:40:10+03:00 INFO Waiting for automatic snapd restart...
 : lxi-tools 2.2 from Martin Lund (lundmar[32m[0m) installed


 #+RESULTS:



 Check that cli is found
 #+BEGIN_SRC bash :eval no-export :results output
 which lxi
 #+END_SRC

 #+RESULTS:
 : /snap/bin/lxi

 Usage help on lxi tool
 #+BEGIN_SRC bash :eval no-export :results output
 lxi --help
 #+END_SRC

 #+RESULTS:
 #+begin_example
 Usage: /snap/lxi-tools/1517/usr/bin/lxi [--version] [--help] <command> [<args>]

   -v, --version                        Display version
   -h, --help                           Display help

 Commands:
   discover [<options>]                 Search for devices
   scpi [<options>] <scpi-command>      Send SCPI command
   screenshot [<options>] [<filename>]  Capture screenshot
   benchmark [<options>]                Benchmark
   run <filename>                       Run Lua script

 Discover options:
   -t, --timeout <seconds>              Timeout (default: Normal: 1, mDNS: 5)
   -m, --mdns                           Search via mDNS/DNS-SD

 Scpi options:
   -a, --address <ip>                   Device IP address
   -p, --port <port>                    Use port (default: VXI11: 111, RAW: 5025)
   -t, --timeout <seconds>              Timeout (default: 3)
   -x, --hex                            Print response in hexadecimal
   -i, --interactive                    Enter interactive mode
   -r, --raw                            Use raw/TCP

 Screenshot options:
   -a, --address <ip>                   Device IP address
   -t, --timeout <seconds>              Timeout (default: 10)
   -p, --plugin <name>                  Use screenshot plugin by name
   -l, --list                           List available screenshot plugins

 Benchmark options:
   -a, --address <ip>                   Device IP address
   -p, --port <port>                    Use port (default: VXI11: 111, RAW: 5025)
   -t, --timeout <seconds>              Timeout (default: 3)
   -c, --count <count>                  Number of requests (default: 100)
   -r, --raw                            Use raw/TCP

 #+end_example

 Launch ~lxi-gui~ app (as a separete process)
 #+BEGIN_SRC elisp :noweb yes :results output :eval no-export :exports none
 (start-process "server" "buf-server" "lxi-gui" )
 #+END_SRC

 #+RESULTS:

 Start ~lxi-gui~ (and freeze emacs)
 #+BEGIN_SRC bash :eval no-export :results output
 lxi-gui
 #+END_SRC

 #+RESULTS:


**** Testing Rigol DS1104Z screenshot

 Check network connection on this PC
 #+BEGIN_SRC bash :eval no-export :results output
 ifconfig
 #+END_SRC


 #+RESULTS:
 #+begin_example
 docker0: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
         inet 172.17.0.1  netmask 255.255.0.0  broadcast 172.17.255.255
         ether 02:42:57:79:3c:84  txqueuelen 0  (Ethernet)
         RX packets 0  bytes 0 (0.0 B)
         RX errors 0  dropped 0  overruns 0  frame 0
         TX packets 0  bytes 0 (0.0 B)
         TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

 eno1: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
         inet 192.168.120.50  netmask 255.255.255.0  broadcast 192.168.120.255
         inet6 fe80::4c02:fbeb:cfa7:b9ee  prefixlen 64  scopeid 0x20<link>
         ether a0:1d:48:97:78:c4  txqueuelen 1000  (Ethernet)
         RX packets 590798  bytes 386911773 (386.9 MB)
         RX errors 0  dropped 0  overruns 0  frame 0
         TX packets 135964  bytes 12377634 (12.3 MB)
         TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
         device interrupt 17  

 eno2: flags=4099<UP,BROADCAST,MULTICAST>  mtu 1500
         ether a0:1d:48:97:78:c5  txqueuelen 1000  (Ethernet)
         RX packets 0  bytes 0 (0.0 B)
         RX errors 0  dropped 0  overruns 0  frame 0
         TX packets 0  bytes 0 (0.0 B)
         TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
         device interrupt 18  

 lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
         inet 127.0.0.1  netmask 255.0.0.0
         inet6 ::1  prefixlen 128  scopeid 0x10<host>
         loop  txqueuelen 1000  (Local Loopback)
         RX packets 2387  bytes 235312 (235.3 KB)
         RX errors 0  dropped 0  overruns 0  frame 0
         TX packets 2387  bytes 235312 (235.3 KB)
         TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

 #+end_example

 Run ~lxi discover~ to search for LXI compatible machines accessible
 from this PC.
 #+BEGIN_SRC bash :eval no-export :results output
 lxi discover
 #+END_SRC

 #+RESULTS:
 : Searching for LXI devices - please wait...
 : 
 : Broadcasting on interface lo
 : Broadcasting on interface eno1
 :   Found "RIGOL TECHNOLOGIES,DS1104Z,DS1ZB192000144,00.04.04.SP3" on address 192.168.120.56
 : Broadcasting on interface docker0
 : 
 : Found 1 device 
 : 


 #+BEGIN_SRC bash :eval no-export :results output
 echo 'Found "RIGOL TECHNOLOGIES,DS1104Z,DS1ZB192000144,00.04.04.SP3" on address 192.168.120.56' | grep -oE '192\.[0-9]+\.[0-9]+\.[0-9]+' 
 #+END_SRC

 #+RESULTS:
 : 192.168.120.56

 One liner returning IP-address
 #+BEGIN_SRC bash :eval no-export :results output
 lxi discover | grep 'DS1104Z' | grep -oE '192\.[0-9]+\.[0-9]+\.[0-9]+' 
 #+END_SRC

 #+RESULTS:
 : 192.168.120.56


 #+BEGIN_SRC bash :eval no-export :results output
 SKOOPPI=$(lxi discover | grep 'DS1104Z' | grep -oE '192\.[0-9]+\.[0-9]+\.[0-9]+')
 echo Screenshot for SKOOPPI=$SKOOPPI
 lxi screenshot -a $SKOOPPI pics/lxi-output.png
 #+END_SRC

 #+RESULTS:
 : Screenshot for SKOOPPI=192.168.120.56
 : Saved screenshot image to pics/lxi-output.png


 Check file in 
 [[file:pics/lxi-output.png]]

 #+BEGIN_SRC bash :eval no-export :results output
 lxi screenshot -a $(lxi discover | grep 'DS1104Z' | grep -oE '192\.[0-9]+\.[0-9]+\.[0-9]+') 
 #+END_SRC

 #+RESULTS:
 : Saved screenshot image to screenshot_192.168.120.56_2022-10-06T10:53:24.png


**** Käyttöohje (in Finnish)

 User instructions: https://wiki.helsinki.hacklab.fi/E-huoneen_mittalaitteiden_k%C3%A4ytt%C3%B6vinkkej%C3%A4


*** ~sigrok~: signal analysis software suite

**** Install sigrok package

 #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
  sudo apt-get update
 #+END_SRC

 #+RESULTS:
 #+begin_example
0% [Working]            Hit:1 http://archive.ubuntu.com/ubuntu focal InRelease
0% [Connected to download.docker.com (13.32.123.81)] [Waiting for headers] [Con                                                                               Hit:2 http://ppa.launchpad.net/kicad/kicad-6.0-releases/ubuntu focal InRelease
0% [Waiting for headers] [Connecting to packages.linuxmint.com (68.235.39.11)]                                                                                Get:3 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]
0% [Waiting for headers] [Waiting for headers] [Waiting for headers] [3 InRelea                                                                               Hit:4 https://download.docker.com/linux/ubuntu focal InRelease
0% [Waiting for headers] [Waiting for headers] [3 InRelease 14.2 kB/114 kB 12%]                                                                               Get:5 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]
0% [Waiting for headers] [5 InRelease 1,153 B/114 kB 1%] [3 InRelease 14.2 kB/10% [Waiting for headers] [5 InRelease 18.5 kB/114 kB 16%] [3 InRelease 22.9 kB/                                                                               Hit:6 http://archive.canonical.com/ubuntu focal InRelease
0% [Waiting for headers] [5 InRelease 27.2 kB/114 kB 24%] [3 InRelease 34.4 kB/                                                                               Ign:7 http://packages.linuxmint.com una InRelease
                                                                               0% [5 InRelease 77.9 kB/114 kB 68%] [3 InRelease 77.9 kB/114 kB 68%]0% [Waiting for headers] [5 InRelease 104 kB/114 kB 91%] [3 InRelease 104 kB/11                                                                               0% [Waiting for headers] [5 InRelease 114 kB/114 kB 100%]                                                         0% [Waiting for headers] [Waiting for headers]0% [Waiting for headers] [Waiting for headers]                                              Get:8 http://archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]
0% [Waiting for headers] [8 InRelease 2,601 B/108 kB 2%]                                                        0% [Waiting for headers]                        Hit:9 http://packages.linuxmint.com una Release
                        0% [Working]0% [Working]0% [Working]            Get:10 http://security.ubuntu.com/ubuntu focal-security/main amd64 DEP-11 Metadata [40.6 kB]
0% [10 Components-amd64 2,689 B/40.6 kB 7%]                                           0% [Working]0% [10 Components-amd64 store 0 B] [Waiting for headers]                                                        0% [Waiting for headers]0% [Waiting for headers]                        Get:11 http://security.ubuntu.com/ubuntu focal-security/universe amd64 DEP-11 Metadata [77.6 kB]
0% [Waiting for headers] [11 Components-amd64 2,688 B/77.6 kB 3%]                                                                 Get:12 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 DEP-11 Metadata [277 kB]
0% [12 Components-amd64 2,687 B/277 kB 1%] [11 Components-amd64 69.3 kB/77.6 kB                                                                               0% [12 Components-amd64 15.7 kB/277 kB 6%]                                          Get:13 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 DEP-11 Metadata [2,468 B]
0% [12 Components-amd64 17.2 kB/277 kB 6%] [13 Components-amd64 1,659 B/2,468 B0% [11 Components-amd64 store 0 B] [12 Components-amd64 17.2 kB/277 kB 6%] [13                                                                                0% [11 Components-amd64 store 0 B] [12 Components-amd64 20.1 kB/277 kB 7%]                                                                          0% [12 Components-amd64 101 kB/277 kB 37%]0% [13 Components-amd64 store 0 B] [12 Components-amd64 103 kB/277 kB 37%]                                                                          0% [12 Components-amd64 105 kB/277 kB 38%]0% [12 Components-amd64 255 kB/277 kB 92%]                                          0% [Working]0% [12 Components-amd64 store 0 B] [Waiting for headers]                                                        Get:14 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 DEP-11 Metadata [391 kB]
0% [12 Components-amd64 store 0 B] [14 Components-amd64 1,239 B/391 kB 0%]87% [12 Components-amd64 store 0 B] [14 Components-amd64 249 kB/391 kB 64%]                                                                           88% [14 Components-amd64 262 kB/391 kB 67%]                                           97% [Waiting for headers]                         Get:16 http://archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 DEP-11 Metadata [944 B]
97% [Waiting for headers]                         Get:17 http://archive.ubuntu.com/ubuntu focal-backports/main amd64 DEP-11 Metadata [7,996 B]
97% [14 Components-amd64 store 0 B] [17 Components-amd64 7,045 B/7,996 B 88%]                                                                             98% [14 Components-amd64 store 0 B] [Waiting for headers]                                                         Get:18 http://archive.ubuntu.com/ubuntu focal-backports/universe amd64 DEP-11 Metadata [30.5 kB]
98% [14 Components-amd64 store 0 B] [18 Components-amd64 6,082 B/30.5 kB 20%]                                                                             100% [14 Components-amd64 store 0 B]                                    100% [Working]100% [16 Components-amd64 store 0 B]                                    100% [Working]100% [17 Components-amd64 store 0 B]                                    100% [Working]100% [18 Components-amd64 store 0 B]                                    100% [Working]              Fetched 1,164 kB in 1s (1,118 kB/s)
Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 0%Reading package lists... 3%Reading package lists... 3%Reading package lists... 5%Reading package lists... 5%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 6%Reading package lists... 31%Reading package lists... 31%Reading package lists... 43%Reading package lists... 43%Reading package lists... 56%Reading package lists... 56%Reading package lists... 57%Reading package lists... 57%Reading package lists... 57%Reading package lists... 57%Reading package lists... 57%Reading package lists... 57%Reading package lists... 63%Reading package lists... 63%Reading package lists... 64%Reading package lists... 64%Reading package lists... 68%Reading package lists... 68%Reading package lists... 69%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 72%Reading package lists... 74%Reading package lists... 74%Reading package lists... 76%Reading package lists... 76%Reading package lists... 78%Reading package lists... 78%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 79%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 80%Reading package lists... 84%Reading package lists... 84%Reading package lists... 85%Reading package lists... 85%Reading package lists... 89%Reading package lists... 89%Reading package lists... 92%Reading package lists... 92%Reading package lists... 92%Reading package lists... 92%Reading package lists... 94%Reading package lists... 94%Reading package lists... 96%Reading package lists... 96%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... 98%Reading package lists... Done
 #+end_example


 #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
  sudo apt-get install -y sigrok
 #+END_SRC

 #+RESULTS:
 #+begin_example
Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
Reading state information... 0%Reading state information... 0%Reading state information... Done
 The following packages were automatically installed and are no longer required:
   lib32gcc-s1 libcuda1-340 liblxi1 libxnvctrl0 nvidia-settings
   screen-resolution-extra
 Use 'sudo apt autoremove' to remove them.
 The following additional packages will be installed:
   libboost-serialization1.71.0 libftdi1-2 libhidapi-hidraw0 libserialport0
   libsigrok4 libsigrokcxx4 libsigrokdecode4 pulseview sigrok-cli
   sigrok-firmware-fx2lafw
 The following NEW packages will be installed:
   libboost-serialization1.71.0 libftdi1-2 libhidapi-hidraw0 libserialport0
   libsigrok4 libsigrokcxx4 libsigrokdecode4 pulseview sigrok sigrok-cli
   sigrok-firmware-fx2lafw
 0 upgraded, 11 newly installed, 0 to remove and 253 not upgraded.
 Need to get 1,826 kB of archives.
 After this operation, 8,721 kB of additional disk space will be used.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu focal/main amd64 libboost-serialization1.71.0 amd64 1.71.0-6ubuntu6 [302 kB]
0% [1 libboost-serialization1.71.0 1,165 B/302 kB 0%]10% [1 libboost-serialization1.71.0 229 kB/302 kB 76%]                                                      15% [Working]             Get:2 http://archive.ubuntu.com/ubuntu focal/universe amd64 libftdi1-2 amd64 1.4-2build2 [25.6 kB]
15% [2 libftdi1-2 2,615 B/25.6 kB 10%]                                      18% [Waiting for headers]                         Get:3 http://archive.ubuntu.com/ubuntu focal/universe amd64 libhidapi-hidraw0 amd64 0.9.0+dfsg-1 [10.7 kB]
18% [3 libhidapi-hidraw0 2,762 B/10.7 kB 26%]                                             20% [Waiting for headers]                         Get:4 http://archive.ubuntu.com/ubuntu focal/universe amd64 libserialport0 amd64 0.1.1-3 [21.6 kB]
20% [4 libserialport0 505 B/21.6 kB 2%]                                       23% [Waiting for headers]                         Get:5 http://archive.ubuntu.com/ubuntu focal/universe amd64 libsigrok4 amd64 0.5.2-2 [426 kB]
23% [5 libsigrok4 1,750 B/426 kB 0%]                                    44% [Waiting for headers]                         Get:6 http://archive.ubuntu.com/ubuntu focal/universe amd64 libsigrokcxx4 amd64 0.5.2-2 [77.6 kB]
44% [6 libsigrokcxx4 2,412 B/77.6 kB 3%]                                        49% [Waiting for headers]                         Get:7 http://archive.ubuntu.com/ubuntu focal/universe amd64 libsigrokdecode4 amd64 0.5.3-1build1 [252 kB]
49% [7 libsigrokdecode4 1,289 B/252 kB 1%]                                          62% [Waiting for headers]                         Get:8 http://archive.ubuntu.com/ubuntu focal/universe amd64 pulseview amd64 0.4.1-1build1 [651 kB]
62% [8 pulseview 4,294 B/651 kB 1%]                                   92% [Waiting for headers]                         Get:9 http://archive.ubuntu.com/ubuntu focal/universe amd64 sigrok-cli amd64 0.7.1-1 [45.0 kB]
92% [9 sigrok-cli 4,489 B/45.0 kB 10%]                                      96% [Waiting for headers]                         Get:10 http://archive.ubuntu.com/ubuntu focal/universe amd64 sigrok-firmware-fx2lafw all 0.1.7-1 [12.9 kB]
96% [10 sigrok-firmware-fx2lafw 2,616 B/12.9 kB 20%]                                                    98% [Waiting for headers]                         Get:11 http://archive.ubuntu.com/ubuntu focal/universe amd64 sigrok all 0.2-5 [2,268 B]
98% [11 sigrok 2,268 B/2,268 B 100%]                                    100% [Working]              Fetched 1,826 kB in 1s (1,423 kB/s)
 Selecting previously unselected package libboost-serialization1.71.0:amd64.
 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 439912 files and directories currently installed.)
 Preparing to unpack .../00-libboost-serialization1.71.0_1.71.0-6ubuntu6_amd64.deb ...
 Unpacking libboost-serialization1.71.0:amd64 (1.71.0-6ubuntu6) ...
 Selecting previously unselected package libftdi1-2:amd64.
 Preparing to unpack .../01-libftdi1-2_1.4-2build2_amd64.deb ...
 Unpacking libftdi1-2:amd64 (1.4-2build2) ...
 Selecting previously unselected package libhidapi-hidraw0:amd64.
 Preparing to unpack .../02-libhidapi-hidraw0_0.9.0+dfsg-1_amd64.deb ...
 Unpacking libhidapi-hidraw0:amd64 (0.9.0+dfsg-1) ...
 Selecting previously unselected package libserialport0:amd64.
 Preparing to unpack .../03-libserialport0_0.1.1-3_amd64.deb ...
 Unpacking libserialport0:amd64 (0.1.1-3) ...
 Selecting previously unselected package libsigrok4:amd64.
 Preparing to unpack .../04-libsigrok4_0.5.2-2_amd64.deb ...
 Unpacking libsigrok4:amd64 (0.5.2-2) ...
 Selecting previously unselected package libsigrokcxx4:amd64.
 Preparing to unpack .../05-libsigrokcxx4_0.5.2-2_amd64.deb ...
 Unpacking libsigrokcxx4:amd64 (0.5.2-2) ...
 Selecting previously unselected package libsigrokdecode4:amd64.
 Preparing to unpack .../06-libsigrokdecode4_0.5.3-1build1_amd64.deb ...
 Unpacking libsigrokdecode4:amd64 (0.5.3-1build1) ...
 Selecting previously unselected package pulseview.
 Preparing to unpack .../07-pulseview_0.4.1-1build1_amd64.deb ...
 Unpacking pulseview (0.4.1-1build1) ...
 Selecting previously unselected package sigrok-cli.
 Preparing to unpack .../08-sigrok-cli_0.7.1-1_amd64.deb ...
 Unpacking sigrok-cli (0.7.1-1) ...
 Selecting previously unselected package sigrok-firmware-fx2lafw.
 Preparing to unpack .../09-sigrok-firmware-fx2lafw_0.1.7-1_all.deb ...
 Unpacking sigrok-firmware-fx2lafw (0.1.7-1) ...
 Selecting previously unselected package sigrok.
 Preparing to unpack .../10-sigrok_0.2-5_all.deb ...
 Unpacking sigrok (0.2-5) ...
 Setting up libsigrokdecode4:amd64 (0.5.3-1build1) ...
 Setting up libhidapi-hidraw0:amd64 (0.9.0+dfsg-1) ...
 Setting up sigrok-firmware-fx2lafw (0.1.7-1) ...
 Setting up libftdi1-2:amd64 (1.4-2build2) ...
 Setting up libboost-serialization1.71.0:amd64 (1.71.0-6ubuntu6) ...
 Setting up libserialport0:amd64 (0.1.1-3) ...
 Setting up libsigrok4:amd64 (0.5.2-2) ...
 Setting up sigrok-cli (0.7.1-1) ...
 Setting up libsigrokcxx4:amd64 (0.5.2-2) ...
 Setting up pulseview (0.4.1-1build1) ...
 Setting up sigrok (0.2-5) ...
 Processing triggers for mime-support (3.64ubuntu1) ...
 Processing triggers for hicolor-icon-theme (0.17-2) ...
 Processing triggers for libc-bin (2.31-0ubuntu9.9) ...
 Processing triggers for man-db (2.9.1-1) ...
 Processing triggers for desktop-file-utils (0.24+linuxmint1) ...
 #+end_example


   Show ~sigrok-cli~ version
   #+BEGIN_SRC bash :eval no-export :results output :exports both
   sigrok-cli --version
   #+END_SRC

   #+RESULTS:
   #+begin_example
   sigrok-cli 0.7.1

   Libraries and features:
   - libsigrok 0.5.1/5:0:1 (rt: 0.5.2/5:1:1).
    - Libs:
     - glib 2.63.5 (rt: 2.64.6/6406:6)
     - libzip 1.5.1
     - libserialport 0.1.1/1:0:1 (rt: 0.1.1/1:0:1)
     - libusb-1.0 1.0.23.11397 API 0x01000107
     - hidapi 0.9.0
     - bluez 5.52
     - libftdi 1.4
     - Host: x86_64-pc-linux-gnu, little-endian.
     - SCPI backends: TCP, RPC, serial, USBTMC.
   - libsigrokdecode 0.5.2/6:0:2 (rt: 0.5.3/6:1:2).
    - Libs:
     - glib 2.63.3 (rt: 2.64.6/6406:6)
     - Python 3.8.1 / 0x30801f0 (API 1013, ABI 3)
     - Host: x86_64-pc-linux-gnu, little-endian.
   #+end_example

   Show ~pulseview~ version
   #+BEGIN_SRC bash :eval no-export :results output :exports both
   pulseview --version
   #+END_SRC

   #+RESULTS:
   #+begin_example
   palette support is disabled
   PulseView 0.4.1

   Libraries and features:
     PulseView 0.4.1
     Qt 5.12.8
     glibmm 2.62.0
     Boost 1_71
     libsigrok 0.5.2/5:1:1 (rt: 0.5.2/5:1:1)
      - glib 2.63.5 (rt: 2.64.6/6406:6)
      - libzip 1.5.1
      - libserialport 0.1.1/1:0:1 (rt: 0.1.1/1:0:1)
      - libusb-1.0 1.0.23.11397 API 0x01000107
      - hidapi 0.9.0
      - bluez 5.52
      - libftdi 1.4
      - Host x86_64-pc-linux-gnu, little-endian
      - SCPI backends TCP, RPC, serial, USBTMC
     libsigrokdecode 0.5.3/6:1:2 (rt: 0.5.3/6:1:2)
      - glib 2.63.3 (rt: 2.64.6/6406:6)
      - Python 3.8.1 / 0x30801f0 (API 1013, ABI 3)
      - Host x86_64-pc-linux-gnu, little-endian

   Firmware search paths:
     /home/hacklab/.local/share/sigrok-firmware
     /usr/share/sigrok-firmware
     /usr/share/mate/sigrok-firmware
     /home/hacklab/.local/share/flatpak/exports/share/sigrok-firmware
     /var/lib/flatpak/exports/share/sigrok-firmware
     /usr/local/share/sigrok-firmware
     /usr/share/sigrok-firmware

   Protocol decoder search paths:
     /usr/share/libsigrokdecode/decoders
     /usr/share/libsigrokdecode/decoders

   Supported hardware drivers:
     agilent-dmm          Agilent U12xx series DMMs
     appa-55ii            APPA 55II
     arachnid-labs-re-load-proArachnid Labs Re:load Pro
     asix-sigma           ASIX SIGMA/SIGMA2
     atten-pps3203        Atten PPS3203T-3S
     baylibre-acme        BayLibre ACME (Another Cute Measurement Equipment)
     bbcgm-2010           BBC Goertz Metrawatt M2110
     beaglelogic          BeagleLogic
     brymen-bm25x         Brymen BM25x
     brymen-bm857         Brymen BM857
     brymen-bm86x         Brymen BM86x
     cem-dt-885x          CEM DT-885x
     center-309           Center 309
     chronovu-la          ChronoVu LA8/LA16
     colead-slm           Colead SLM
     conrad-digi-35-cpu   Conrad DIGI 35 CPU
     demo                 Demo driver and pattern generator
     deree-de5000         DER EE DE-5000
     digitek-dt4000zc     Digitek DT4000ZC
     dreamsourcelab-dslogicDreamSourceLab DSLogic
     eevblog-121gw        EEVblog 121GW
     fluke-45             Fluke 45
     fluke-dmm            Fluke 18x/28x series DMMs
     ftdi-la              FTDI LA
     fx2lafw              fx2lafw (generic driver for FX2 based LAs)
     gmc-mh-1x-2x-rs232   Gossen Metrawatt Metrahit 1x/2x, RS232 interface
     gmc-mh-2x-bd232      Gossen Metrawatt Metrahit 2x, BD232/SI232-II interface
     gwinstek-gds-800     GW Instek GDS-800 series
     gwinstek-gpd         GW Instek GPD
     hameg-hmo            Hameg HMO
     hantek-4032l         Hantek 4032L
     hantek-6xxx          Hantek 6xxx
     hantek-dso           Hantek DSO
     hp-3457a             HP 3457A
     hpib-pps             HP-IB PPS
     hung-chang-dso-2100  Hung-Chang DSO-2100
     ikalogic-scanalogic2 IKALOGIC Scanalogic-2
     ikalogic-scanaplus   IKALOGIC ScanaPLUS
     ipdbg-la             IPDBG LA
     iso-tech-idm103n     ISO-TECH IDM103N
     kecheng-kc-330b      Kecheng KC-330B
     kern-ew-6200-2nm     KERN EW 6200-2NM
     korad-kaxxxxp        Korad KAxxxxP
     lascar-el-usb        Lascar EL-USB
     lecroy-logicstudio   LeCroy LogicStudio
     lecroy-xstream       LeCroy X-Stream
     manson-hcs-3xxx      Manson HCS-3xxx
     mastech-mas345       MASTECH MAS345
     mastech-ms2115b      MASTECH MS2115B
     mastech-ms5308       MASTECH MS5308
     mastech-ms6514       MASTECH MS6514
     mastech-ms8250b      MASTECH MS8250B
     mastech-ms8250d      MASTECH MS8250D
     maynuo-m97           maynuo M97/M98 series
     metex-m3640d         Metex M-3640D
     metex-m3860m         Metex M-3860M
     metex-m4650cr        Metex M-4650CR
     metex-me31           Metex ME-31
     metrix-mx56c         Metrix MX56C
     mic-98581            MIC 98581
     mic-98583            MIC 98583
     microchip-pickit2    Microchip PICkit2
     mooshimeter-dmm      Mooshimeter DMM
     motech-lps-301       Motech LPS-301
     norma-dmm            Norma DM9x0 DMMs
     ols                  Openbench Logic Sniffer & SUMP compatibles
     p-ols                Pipistrello OLS
     pce-322a             PCE PCE-322A
     pce-pce-dm32         PCE PCE-DM32
     peaktech-2165        PeakTech 2165
     peaktech-2170        PeakTech 2170
     peaktech-3330        PeakTech 3330
     peaktech-3410        PeakTech 3410
     peaktech-3415        PeakTech 3415
     peaktech-4370        PeakTech 4370
     peaktech-4390a       PeakTech 4390A
     radioshack-22-168    RadioShack 22-168
     radioshack-22-805    RadioShack 22-805
     radioshack-22-812    RadioShack 22-812
     rdtech-dps           RDTech DPS/DPH series power supply
     rigol-ds             Rigol DS
     rohde-schwarz-sme-0x Rohde&Schwarz SME-0x
     saleae-logic-pro     Saleae Logic Pro
     saleae-logic16       Saleae Logic16
     scpi-dmm             SCPI DMM
     scpi-pps             SCPI PPS
     siemens-b102x        Siemens B102x DMMs
     siglent-sds          Siglent SDS1000/SDS2000
     sparkfun-70c         SparkFun 70C
     sysclk-lwla          Sysclk LWLA series
     sysclk-sla5032       Sysclk SLA5032
     tecpel-dmm-8061      Tecpel DMM-8061
     tecpel-dmm-8061-ser  Tecpel DMM-8061 (UT-D02 cable)
     tekpower-tp4000ZC    TekPower TP4000ZC
     teleinfo             Teleinfo
     tenma-72-7730        Tenma 72-7730
     tenma-72-7730-ser    Tenma 72-7730 (UT-D02 cable)
     tenma-72-7732        Tenma 72-7732
     tenma-72-7732-ser    Tenma 72-7732 (UT-D02 cable)
     tenma-72-7745        Tenma 72-7745
     tenma-72-7745-ser    Tenma 72-7745 (UT-D02 cable)
     tenma-72-7750        Tenma 72-7750
     tenma-72-7750-ser    Tenma 72-7750 (UT-D02 cable)
     tenma-72-9380a       Tenma 72-9380A
     tenma-72-9380a-ser   Tenma 72-9380A (UT-D02 cable)
     testo                Testo
     tondaj-sl-814        Tondaj SL-814
     uni-t-ut32x          UNI-T UT32x
     uni-t-ut372          UNI-T UT372
     uni-t-ut60a          UNI-T UT60A
     uni-t-ut60a-ser      UNI-T UT60A (UT-D02 cable)
     uni-t-ut60e          UNI-T UT60E
     uni-t-ut60e-ser      UNI-T UT60E (UT-D02 cable)
     uni-t-ut60g          UNI-T UT60G
     uni-t-ut60g-ser      UNI-T UT60G (UT-D02 cable)
     uni-t-ut612          UNI-T UT612
     uni-t-ut61b          UNI-T UT61B
     uni-t-ut61b-ser      UNI-T UT61B (UT-D02 cable)
     uni-t-ut61c          UNI-T UT61C
     uni-t-ut61c-ser      UNI-T UT61C (UT-D02 cable)
     uni-t-ut61d          UNI-T UT61D
     uni-t-ut61d-ser      UNI-T UT61D (UT-D02 cable)
     uni-t-ut61e          UNI-T UT61E
     uni-t-ut61e-ser      UNI-T UT61E (UT-D02 cable)
     uni-t-ut71a          UNI-T UT71A
     uni-t-ut71a-ser      UNI-T UT71A (UT-D02 cable)
     uni-t-ut71b          UNI-T UT71B
     uni-t-ut71b-ser      UNI-T UT71B (UT-D02 cable)
     uni-t-ut71c          UNI-T UT71C
     uni-t-ut71c-ser      UNI-T UT71C (UT-D02 cable)
     uni-t-ut71d          UNI-T UT71D
     uni-t-ut71d-ser      UNI-T UT71D (UT-D02 cable)
     uni-t-ut71e          UNI-T UT71E
     uni-t-ut71e-ser      UNI-T UT71E (UT-D02 cable)
     va-va18b             V&A VA18B
     va-va40b             V&A VA40B
     velleman-dvm4100     Velleman DVM4100
     victor-dmm           Victor Victor DMMs
     voltcraft-4080       Voltcraft 4080
     voltcraft-k204       Voltcraft K204
     voltcraft-m3650cr    Voltcraft M-3650CR
     voltcraft-m3650d     Voltcraft M-3650D
     voltcraft-m4650cr    Voltcraft M-4650CR
     voltcraft-me42       Voltcraft ME-42
     voltcraft-vc820      Voltcraft VC-820
     voltcraft-vc820-ser  Voltcraft VC-820 (UT-D02 cable)
     voltcraft-vc830      Voltcraft VC-830
     voltcraft-vc830-ser  Voltcraft VC-830 (UT-D02 cable)
     voltcraft-vc840      Voltcraft VC-840
     voltcraft-vc840-ser  Voltcraft VC-840 (UT-D02 cable)
     voltcraft-vc870      Voltcraft VC-870
     voltcraft-vc870-ser  Voltcraft VC-870 (UT-D02 cable)
     voltcraft-vc920      Voltcraft VC-920
     voltcraft-vc920-ser  Voltcraft VC-920 (UT-D02 cable)
     voltcraft-vc940      Voltcraft VC-940
     voltcraft-vc940-ser  Voltcraft VC-940 (UT-D02 cable)
     voltcraft-vc96       Voltcraft VC-96
     voltcraft-vc960      Voltcraft VC-960
     voltcraft-vc960-ser  Voltcraft VC-960 (UT-D02 cable)
     yokogawa-dlm         Yokogawa DL/DLM
     zeroplus-logic-cube  ZEROPLUS Logic Cube LAP-C series
     zketech-ebd-usb      ZKETECH EBD-USB

   Supported input formats:
     binary               Raw binary logic data
     chronovu-la8         ChronoVu LA8/LA16 native file format data
     csv                  Comma-separated values
     logicport            Intronix LA1034 LogicPort project
     null                 Null input (discards all input)
     raw_analog           Raw analog data without header
     trace32_ad           Lauterbach Trace32 logic analyzer data
     vcd                  Value Change Dump data
     wav                  Microsoft WAV file format data

   Supported output formats:
     analog               ASCII analog data values and units
     ascii                ASCII art logic data
     binary               Raw binary logic data
     bits                 0/1 digits logic data
     chronovu-la8         ChronoVu LA8 native file format data
     csv                  Comma-separated values
     hex                  Hexadecimal digits logic data
     null                 Null output (discards all data)
     ols                  OpenBench Logic Sniffer data
     srzip                srzip session file format data
     vcd                  Value Change Dump data
     wav                  Microsoft WAV file format data
     wavedrom             WaveDrom.com file format

   Supported protocol decoders:
     ac97                 Audio Codec '97
     ade77xx              Analog Devices ADE77xx
     adf435x              Analog Devices ADF4350/1
     adns5020             Avago ADNS-5020
     am230x               Aosong AM230x/DHTxx/RHTxx
     amulet_ascii         Amulet LCD ASCII
     arm_etmv3            ARM Embedded Trace Macroblock v3
     arm_itm              ARM Instrumentation Trace Macroblock
     arm_tpiu             ARM Trace Port Interface Unit
     atsha204a            Microchip ATSHA204A
     aud                  Advanced User Debugger
     avr_isp              AVR In-System Programming
     avr_pdi              Atmel Program and Debug Interface
     can                  Controller Area Network
     cc1101               Texas Instruments CC1101
     cec                  HDMI-CEC
     cfp                  100 Gigabit C form-factor pluggable
     counter              Edge counter
     dali                 Digital Addressable Lighting Interface
     dcf77                DCF77 time protocol
     dmx512               Digital MultipleX 512
     ds1307               Dallas DS1307
     ds2408               Maxim DS2408
     ds243x               Maxim DS2432/3
     ds28ea00             Maxim DS28EA00 1-Wire digital thermometer
     dsi                  Digital Serial Interface
     edid                 Extended Display Identification Data
     eeprom24xx           24xx I²C EEPROM
     eeprom93xx           93xx Microwire EEPROM
     em4100               RFID EM4100
     em4305               RFID EM4205/EM4305
     enc28j60             Microchip ENC28J60
     flexray              FlexRay
     gpib                 General Purpose Interface Bus
     graycode             Gray code and rotary encoder
     guess_bitrate        Guess bitrate/baudrate
     hdcp                 HDCP over HDMI
     i2c                  Inter-Integrated Circuit
     i2cdemux             I²C demultiplexer
     i2cfilter            I²C filter
     i2s                  Integrated Interchip Sound
     iec                  Commodore bus
     ieee488              IEEE-488 GPIB/HPIB/IEC
     ir_nec               IR NEC
     ir_rc5               IR RC-5
     ir_rc6               IR RC-6
     jitter               Timing jitter calculation
     jtag                 Joint Test Action Group (IEEE 1149.1)
     jtag_ejtag           Joint Test Action Group / EJTAG (MIPS)
     jtag_stm32           Joint Test Action Group / ST STM32
     lin                  Local Interconnect Network
     lm75                 National LM75
     lpc                  Low Pin Count
     maple_bus            SEGA Maple bus
     max7219              Maxim MAX7219/MAX7221
     mcs48                Intel MCS-48
     mdio                 Management Data Input/Output
     microwire            Microwire
     midi                 Musical Instrument Digital Interface
     miller               Miller encoding
     mlx90614             Melexis MLX90614
     modbus               Modbus RTU over RS232/RS485
     morse                Morse code
     mrf24j40             Microchip MRF24J40
     mxc6225xu            MEMSIC MXC6225XU
     nes_gamepad          Nintendo Entertainment System gamepad
     nrf24l01             Nordic Semiconductor nRF24L01(+)
     nunchuk              Nintendo Wii Nunchuk
     onewire_link         1-Wire serial communication bus (link layer)
     onewire_network      1-Wire serial communication bus (network layer)
     ook                  On-off keying
     ook_oregon           Oregon Scientific
     ook_vis              On-off keying visualisation
     pan1321              Panasonic PAN1321
     parallel             Parallel sync bus
     pca9571              NXP PCA9571
     ps2                  PS/2
     pwm                  Pulse-width modulation
     qi                   Qi charger protocol
     rc_encode            Remote control encoder
     rfm12                HopeRF RFM12
     rgb_led_spi          RGB LED string decoder (SPI)
     rgb_led_ws281x       RGB LED string decoder (WS281x)
     rtc8564              Epson RTC-8564 JE/NB
     sda2506              Siemens SDA 2506-5
     sdcard_sd            Secure Digital card (SD mode)
     sdcard_spi           Secure Digital card (SPI mode)
     seven_segment        7-segment display
     signature            Signature analysis
     spdif                Sony/Philips Digital Interface Format
     spi                  Serial Peripheral Interface
     spiflash             SPI flash/EEPROM chips
     ssi32                Synchronous Serial Interface (32bit)
     st7735               Sitronix ST7735
     stepper_motor        Stepper motor position / speed
     swd                  Serial Wire Debug
     swim                 STM8 SWIM bus
     t55xx                RFID T55xx
     tca6408a             Texas Instruments TCA6408A
     tdm_audio            Time division multiplex audio
     timing               Timing calculation with frequency and averaging
     tlc5620              Texas Instruments TLC5620
     uart                 Universal Asynchronous Receiver/Transmitter
     usb_packet           Universal Serial Bus (LS/FS) packet
     usb_power_delivery   USB Power Delivery
     usb_request          Universal Serial Bus (LS/FS) transaction/request
     usb_signalling       Universal Serial Bus (LS/FS) signalling
     wiegand              Wiegand interface
     x2444m               Xicor X2444M/P
     xfp                  10 Gigabit Small Form Factor Pluggable Module (XFP)
     z80                  Zilog Z80 CPU
   #+end_example


** Other

*** OpenScan ~/bin/reft.scad

 OpenSCAD code to create REFT/Mailer boxes

 #+BEGIN_SRC bash :eval no-export :results output :exports results
 cat ~/bin/reft.scad
 #+END_SRC

 #+RESULTS:
 #+begin_example
 // 2019-11 by hellraiser

 // 30.7.2022/jj
 // - half circle on lid edge
 // - color lid added

 // parameters for cardboard box:

 box_length = 80;     // x -direction
 box_height =43 ;      // z -direction
 box_width = 31;       // y-direction aka dept should be less or equal box_height

 cardboard_thickness = 0.5; // cardboard thickness spacing
 lid_length = 25; // size of the closing lid(s) (not for no_glue_box)

 // colors for preview only:
 // color_height = "blue";
 color_height = "blue";
 color_width = "green";
 color_lid = "cyan";
 // color_lid = "green";
 // color_lid = "green";
 color_fold = "white";

 // jj added
 // circle_d = box_length*0.25;
 circle_d = 20;

 // simple_box(box_length, box_width, box_height);
 no_glue_box(box_length, box_width, box_height);
 // no_glue_box(120, 60, 20);

 // dont change anything below unless you know why you're doing it...

 module no_glue_box(box_length, box_width, box_height) union() {
     slot_length = box_width - box_width/2.5;
     slot_width = cardboard_thickness + 0.5;
     closing_lid_size = box_width/2 - 2;

     // 1. main front wall
     color(color_height) hull() {
         square([box_length + cardboard_thickness*2, box_height], center = true);
         simple_closing_lid(box_length, closing_lid_size, box_height, false);
         mirror([1,0])
             simple_closing_lid(box_length, closing_lid_size, box_height, false);
     }

     // 2. box bottom and side walls
     color(color_width) difference() {
         union() {
             translate([0,box_height/2 + box_width / 2 + cardboard_thickness,0])
                 square([box_length, box_width], center = true);
             folding_side_wall(box_length, box_width, box_height, slot_width, slot_length);
             mirror([1,0])
                 folding_side_wall(box_length, box_width, box_height, slot_width, slot_length);
         }
         translate([-box_length/2,box_height/2 + (box_width - slot_length)/2])
             square([slot_width,slot_length]);
         translate([box_length/2-slot_width,box_height/2 + (box_width - slot_length)/2])
             square([slot_width,slot_length]);
     }

    
     // 3. backside wall
     color(color_height) hull() {
         translate([0,box_height + box_width + 2 * cardboard_thickness,0]) {
             square([box_length, box_height], center = true);
             simple_closing_lid(box_length, closing_lid_size, box_height, false);
         }
         mirror([1,0]) translate([0,box_height+box_width + cardboard_thickness*2,0])
             simple_closing_lid(box_length, closing_lid_size, box_height, false);
     }

     // 4. box top
     color(color_width) hull() {
         translate([0, 1.5 * box_height + 1.5 * box_width + 3 * cardboard_thickness,0])
             square([box_length, box_width], center = true);
         translate([0,box_height+box_width + cardboard_thickness*2,0])
             folding_side_lid(box_length, box_width, box_height);
   
         mirror([1,0,0])
             translate([0,box_height+box_width + cardboard_thickness*2,0])
             folding_side_lid(box_length, box_width, box_height);
     }


     folding_front_lid(box_length, box_width, box_height); // one piece hull

     // fill gaps
     color(color_fold) {
         translate([-box_length/2, box_height/2])
             square([box_length, cardboard_thickness]);
         translate([-box_length/2, box_height/2 + box_width + cardboard_thickness])
             square([box_length, cardboard_thickness]);
         translate([-box_length/2, box_height * 1.5 + box_width + cardboard_thickness * 2])
             square([box_length, cardboard_thickness]);
         translate([-box_length/2, box_height * 1.5 + box_width * 2 + cardboard_thickness * 3])
             square([box_length, cardboard_thickness]);

         translate([-box_length/2 -cardboard_thickness*2, box_height * 0.5 + cardboard_thickness])
             square([cardboard_thickness*2, box_width]);
         translate([box_length/2, box_height * 0.5 + cardboard_thickness])
             square([cardboard_thickness*2, box_width]);
        
     }

 }

 module folding_front_lid(box_length, box_width, box_height) {
    
     $fn = 40;
     d1 = box_height/3;
     d2 = box_height/1;
    
     x = -box_length/2;
     y = box_width*2 + box_height * 1.5 + cardboard_thickness * 4;

     // jj added color
     color(color_lid)
     difference() {
         hull() {
             translate([x, y, 0])
                 square([box_length, box_height]);

             // rounded side flaps
             translate([x-box_height*0.7 + d1/2, y+d1/2]) circle(d = d1);
             translate([x-box_height*0.5 + d2/2, y+box_height - d2/2]) circle(d = d2);

             mirror([1,0,0]) {
                 translate([x-box_height*0.7 + d1/2, y + d1/2]) circle(d = d1);
                 translate([x-box_height*0.5 + d2/2, y + box_height - d2/2]) circle(d = d2);
             }
         }
         /* translate([0,y + box_length*0.37]) */
         /*   // circle(d = box_length*0.5); */
         /*     circle(d = circle_d); */
         translate([0,y+box_height])
           // circle(d = box_length*0.5);
             circle(d = circle_d);
     } // difference
 }

 module folding_side_wall(box_length, box_width, box_height, slot_width, slot_length) {
     x = -box_length/2 -box_height - cardboard_thickness * 2;
     y = box_height/2 + cardboard_thickness;

     hull()
     translate([x,y,0]) {
         square([box_height, box_width]);

         translate([-box_height - cardboard_thickness * 2,0,0]) {
             square([box_height, box_width]);
         }
     }

     translate([x - box_height - cardboard_thickness * 2 -slot_width, y+(box_width - slot_length)/2 + 2])
         square([slot_width, slot_length - 4]);
 }


 module folding_side_lid(box_length, box_width, box_height) {
     translate([-box_length/2 -cardboard_thickness*1,box_height/2 + box_width/2 + cardboard_thickness,0])
     polygon([
         [0, box_width/2],
         [0, -box_width/2],
         [-box_height*0.8, -box_width/3],
         [-box_height*0.8, box_width/2 - 5],
     ]);
 }


 module simple_box(box_length, box_width, box_height) union() {
     simple_sides(box_length, box_width, box_height);

     simple_closing_lid(box_length, box_width, box_height, true);
     simple_glue_lid(box_length, box_width, box_height);
     translate([0,box_height+box_width + cardboard_thickness*2,0]) simple_glue_lid(box_length, box_width, box_height);

     mirror([1,0,0]) {
         simple_closing_lid(box_length, box_width, box_height, true);
         simple_glue_lid(box_length, box_width, box_height);
         translate([0,box_height+box_width + cardboard_thickness*2,0]) simple_glue_lid(box_length, box_width, box_height);
     }

     // wrap glue lid
     color("red")
     translate([0,box_width*2 + box_height * 1.5 + cardboard_thickness * 4, 0])
     polygon([
         [-box_length/2, 0],
         [box_length/2, 0],
         [box_length/2 - box_width/4, box_height/2],
         [-box_length/2 + box_width/4, box_height/2],
     ]);

     // fill gaps
     color(color_fold) {
         translate([-box_length/2, box_height/2])
             square([box_length, cardboard_thickness]);
         translate([-box_length/2, box_height/2 + box_width + cardboard_thickness])
             square([box_length, cardboard_thickness]);
         translate([-box_length/2, box_height * 1.5 + box_width + cardboard_thickness * 2])
             square([box_length, cardboard_thickness]);
         translate([-box_length/2, box_height * 1.5 + box_width * 2 + cardboard_thickness * 3])
             square([box_length, cardboard_thickness]);

         translate([-box_length/2 -cardboard_thickness, box_height * 0.5 + cardboard_thickness])
             square([cardboard_thickness, box_width]);
         translate([box_length/2, box_height * 0.5 + cardboard_thickness])
             square([cardboard_thickness, box_width]);

         translate([-box_length/2 -cardboard_thickness, box_height * 1.5 + box_width + cardboard_thickness * 3])
             square([cardboard_thickness, box_width]);
         translate([box_length/2, box_height * 1.5 + box_width + cardboard_thickness * 3])
             square([cardboard_thickness, box_width]);


         translate([-box_length/2 - cardboard_thickness * 2, -box_height/2])
             square([cardboard_thickness, box_height]);
         translate([box_length/2 + cardboard_thickness, -box_height/2])
             square([cardboard_thickness, box_height]);
        
     }
 }

 module simple_sides(box_length, box_width, box_height) {
     // main front wall
     color(color_height)
     square([box_length + cardboard_thickness*2, box_height], center = true);
     // 1st side wall
     color(color_width)
     translate([0,box_height/2 + box_width / 2 + cardboard_thickness,0])
         square([box_length, box_width], center = true);
     // backside wall
     color(color_height)
     translate([0,box_height + box_width + 2 * cardboard_thickness,0])
         square([box_length, box_height], center = true);
     // 2nd side wall
     color(color_width)
     translate([0, 1.5 * box_height + 1.5 * box_width + 3 * cardboard_thickness,0])
         square([box_length, box_width], center = true);
 }

 module simple_glue_lid(box_length, box_width, box_height) {
     translate([-box_length/2 -cardboard_thickness*1,box_height/2 + box_width/2 + cardboard_thickness,0])
     polygon([
         [0, box_width/2],
         [0, -box_width/2],
         [-box_height/2, -box_width/3],
         [-box_height/2, box_width/3],
     ]);
 }

 module simple_closing_lid(box_length, box_width, box_height, holding_extension = false) hull() {
     // add top/bottom lid
     color(color_lid)
     translate([-box_length/2 -box_width/2 -cardboard_thickness*2,0,0])
         square([box_width, box_height], center = true);

     if (holding_extension) 
       translate([-box_length/2 -box_width -cardboard_thickness*3,0,0])
         polygon([
                  [0, box_height/2],
                  [0, -box_height/2],
                  [-lid_length, -box_height/3],
                  [-lid_length, box_height/3],
                  ]);
 }

 #+end_example


*** Script  ~bin/etool.sh~ -directory

 #+BEGIN_SRC bash :eval no-export :results output :exports both
 cat ~/bin/etool.sh
 #+END_SRC

 #+RESULTS:
 #+begin_example
 #!/bin/bash

 TAG=6
 # Changes this to choose correct version
 # ETOOL_DIR=$HOME/.etool
 ETOOL_DIR=$HOME/Documents/etool


 [ -d  $ETOOL_DIR ] || ( mkdir $ETOOL_DIR && echo Created ETOOL_DIR=$ETOOL_DIR )

 ETOOL="docker run --rm --user $(id -u):$(id -g) -e DISPLAY=unix:0 -v /tmp/.X11-unix:/tmp/.X11-unix -v $ETOOL_DIR:/etool marcus2002/etool:$TAG"

 set -x
 $ETOOL $*
 #+end_example


** Administer docker
:PROPERTIES:
:header-args+: :var  ETOOL_TAG="7"
:END:

*** List docker images

#+name: docker-image-ls
#+BEGIN_SRC bash :eval no-export :results output :exports both
docker image ls
#+END_SRC

#+RESULTS: docker-image-ls
: REPOSITORY          TAG       IMAGE ID       CREATED         SIZE
: marcus2002/etool    7         506b1d5e8b94   3 months ago    4.33GB
: marcus2002/ebench   1         3727289e40bd   6 months ago    1.54GB
: marcus2002/etool    6         3619e013f458   7 months ago    4.33GB
: hello-world         latest    feb5d9fea6a5   14 months ago   13.3kB


*** Pull docker image ~marcus2002/etool/$ETOOL_TAG~

Tag number of ~marcus2002/etool~ Docker image to pull from Docker Hub
#+BEGIN_SRC bash :eval no-export :results output :exports results
echo export ETOOL_TAG=$ETOOL_TAG
#+END_SRC

#+RESULTS:
: export ETOOL_TAG=6

Pull  image  ~marcus2002/etool:$ETOOL_TAG~ from Docker Hub
#+BEGIN_SRC bash :eval no-export :results output
docker pull marcus2002/etool:$ETOOL_TAG
#+END_SRC

#+RESULTS:
: 7: Pulling from marcus2002/etool
: Digest: sha256:8150eb52eb17bf79acf92d8f47bf5e9ff7e0e46fb0d69fa704446388efeb36ee
: Status: Image is up to date for marcus2002/etool:7
: docker.io/marcus2002/etool:7


List docker images pulled, and expect to see docker image
~marcus2002/etool/$ETOOL_TAG~ listed.
#+call: docker-image-ls()

#+RESULTS:
: REPOSITORY          TAG       IMAGE ID       CREATED         SIZE
: marcus2002/etool    7         506b1d5e8b94   3 months ago    4.33GB
: marcus2002/ebench   1         3727289e40bd   6 months ago    1.54GB
: marcus2002/etool    6         3619e013f458   7 months ago    4.33GB
: hello-world         latest    feb5d9fea6a5   14 months ago   13.3kB

*** Change $ETOOL_TAG in =~/bin/etool.sh=

Etool scripts in  =~/bin= -directory:
#+BEGIN_SRC bash :eval no-export :results output :exports both
  ls -ltr ~/bin/etool.sh*
#+END_SRC

#+RESULTS:
: -rwxrwxr-x 1 hacklab hacklab 361 May  2  2022 /home/hacklab/bin/etool.sh~
: -rwxrwxr-x 1 hacklab hacklab 361 Aug 29 12:02 /home/hacklab/bin/etool.sh.old
: -rwxrwxr-x 1 hacklab hacklab 394 Nov 21 11:04 /home/hacklab/bin/etool.sh


Run 
#+name: etool-current-version
#+BEGIN_SRC bash :eval no-export :results output :exports both
grep 'TAG' ~/bin/etool.sh
#+END_SRC

to see value of shell variable ~TAG~ in =~/bin/etool.sh= defining docker image
version used:
#+RESULTS: etool-current-version
: TAG=6 # changed on 2022-11-21-11:04:23
: ETOOL="docker run --rm --user $(id -u):$(id -g) -e DISPLAY=unix:0 -v /tmp/.X11-unix:/tmp/.X11-unix -v $ETOOL_DIR:/etool marcus2002/etool:$TAG"



We are going to set tag number for ~marcus2002/etool~ Docker image
#+BEGIN_SRC bash :eval no-export :results output :exports results
echo export ETOOL_TAG=$ETOOL_TAG
#+END_SRC

#+RESULTS:
: export ETOOL_TAG=7

Set variable ~TAG=$ETOOL_TAG~ in =~/bin/etool.sh= -script. Original
version retained in =~/bin/etool.sh.old=.
#+BEGIN_SRC bash :eval no-export :results output
FILE=~/bin/etool.sh
echo ETOOL_TAG=$ETOOL_TAG
sed -i.old -e "s!TAG=.*!TAG=$ETOOL_TAG # changed on $(date +'%F-%T')!"  $FILE
#+END_SRC

#+RESULTS:
: ETOOL_TAG=7

Validate that shell variable ~TAG~ has the correct value

#+call: etool-current-version()

#+RESULTS:
: TAG=7 # changed on 2022-11-21-11:12:40
: ETOOL="docker run --rm --user $(id -u):$(id -g) -e DISPLAY=unix:0 -v /tmp/.X11-unix:/tmp/.X11-unix -v $ETOOL_DIR:/etool marcus2002/etool:$TAG"


** Other usefull admin commands

*** hostname

 #+BEGIN_SRC bash :eval no-export :results output :exports both
 hostname
 #+END_SRC

 #+RESULTS:
 : hack310g8


*** Check OS version

 #+BEGIN_SRC bash :eval no-export :results output :exports both
 lsb_release -a
 #+END_SRC

 #+RESULTS:
 : Distributor ID:	Linuxmint
 : Description:	Linux Mint 20.3
 : Release:	20.3
 : Codename:	una




* Issues

** etool.sh exe glxgears - error 'libGL error: failed to load driver: swrast' (resolved)

 #+BEGIN_SRC bash :eval no-export :results output
 etool.sh exe glxgears
 #+END_SRC

 #+begin_example
 + docker run --rm --user 1000:1000 -e DISPLAY=unix:0 -v /tmp/.X11-unix:/tmp/.X11-unix -v /home/hacklab/.etool:/etool marcus2002/etool:6 exe glxgears
 libGL error: No matching fbConfigs or visuals found
 libGL error: failed to load driver: swrast
 X Error of failed request:  GLXBadContext
   Major opcode of failed request:  154 (GLX)
   Minor opcode of failed request:  6 (X_GLXIsDirect)
   Serial number of failed request:  42
   Current serial number in output stream:  41
 #+end_example

 Ref: https://askubuntu.com/questions/834254/steam-libgl-error-no-matching-fbconfigs-or-visuals-found-libgl-error-failed-t

 #+BEGIN_SRC bash :eval no-export :results output  :dir /sudo::
 sudo apt-get install -y libnvidia-gl-460:i386
 #+END_SRC

 #+RESULTS:
 #+begin_example
Reading package lists... 0%Reading package lists... 100%Reading package lists... Done
Building dependency tree... 0%Building dependency tree... 0%Building dependency tree... 50%Building dependency tree... 50%Building dependency tree       
Reading state information... 0%Reading state information... 0%Reading state information... Done
 The following packages were automatically installed and are no longer required:
   lib32gcc-s1 libc6-i386 libcuda1-340 libxnvctrl0 nvidia-settings
   screen-resolution-extra
 Use 'sudo apt autoremove' to remove them.
 The following additional packages will be installed:
   libnvidia-common-470 libnvidia-gl-470:i386
 The following packages will be REMOVED:
   nvidia-340
 The following NEW packages will be installed:
   libnvidia-common-470 libnvidia-gl-460:i386 libnvidia-gl-470:i386
 0 upgraded, 3 newly installed, 1 to remove and 0 not upgraded.
 Need to get 21.2 MB of archives.
 After this operation, 199 MB disk space will be freed.
0% [Working]            Get:1 http://archive.ubuntu.com/ubuntu focal-updates/restricted amd64 libnvidia-common-470 all 470.103.01-0ubuntu0.20.04.1 [10.6 kB]
0% [1 libnvidia-common-470 2,615 B/10.6 kB 25%]                                               7% [Working]            Get:2 http://archive.ubuntu.com/ubuntu focal-updates/restricted i386 libnvidia-gl-470 i386 470.103.01-0ubuntu0.20.04.1 [21.2 MB]
7% [2 libnvidia-gl-470:i386 2,609 B/21.2 MB 0%]17% [2 libnvidia-gl-470:i386 2,732 kB/21.2 MB 13%]41% [2 libnvidia-gl-470:i386 9,151 kB/21.2 MB 43%]                                                  62% [2 libnvidia-gl-470:i386 14.7 MB/21.2 MB 69%]86% [2 libnvidia-gl-470:i386 20.9 MB/21.2 MB 99%]                                                 93% [Waiting for headers]                         Get:3 http://archive.ubuntu.com/ubuntu focal-updates/restricted i386 libnvidia-gl-460 i386 470.103.01-0ubuntu0.20.04.1 [7,164 B]
93% [3 libnvidia-gl-460:i386 7,164 B/7,164 B 100%]                                                  100% [Working]              Fetched 21.2 MB in 2s (9,058 kB/s)
 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 398509 files and directories currently installed.)
 Removing nvidia-340 (340.108-0ubuntu5.20.04.2) ...
 Stopping nvidia-persistenced
 nvidia-persistenced: no process found
 Done.
 Removing all DKMS Modules
 Done.
 diversion of /usr/lib/x86_64-linux-gnu/libGL.so.1 to /usr/lib/x86_64-linux-gnu/libGL.so.1.distrib by nvidia-340
 Removing 'diversion of /usr/lib/x86_64-linux-gnu/libGL.so.1 to /usr/lib/x86_64-linux-gnu/libGL.so.1.distrib by nvidia-340'
 diversion of /usr/lib/i386-linux-gnu/libGL.so.1 to /usr/lib/i386-linux-gnu/libGL.so.1.distrib by nvidia-340
 Removing 'diversion of /usr/lib/i386-linux-gnu/libGL.so.1 to /usr/lib/i386-linux-gnu/libGL.so.1.distrib by nvidia-340'
 diversion of /usr/lib/x86_64-linux-gnu/libGL.so to /usr/lib/x86_64-linux-gnu/libGL.so.distrib by nvidia-340
 Removing 'diversion of /usr/lib/x86_64-linux-gnu/libGL.so to /usr/lib/x86_64-linux-gnu/libGL.so.distrib by nvidia-340'
 diversion of /usr/lib/i386-linux-gnu/libGL.so to /usr/lib/i386-linux-gnu/libGL.so.distrib by nvidia-340
 Removing 'diversion of /usr/lib/i386-linux-gnu/libGL.so to /usr/lib/i386-linux-gnu/libGL.so.distrib by nvidia-340'
 diversion of /usr/lib/x86_64-linux-gnu/libEGL.so.1 to /usr/lib/x86_64-linux-gnu/libEGL.so.1.distrib by nvidia-340
 Removing 'diversion of /usr/lib/x86_64-linux-gnu/libEGL.so.1 to /usr/lib/x86_64-linux-gnu/libEGL.so.1.distrib by nvidia-340'
 diversion of /usr/lib/i386-linux-gnu/libEGL.so.1 to /usr/lib/i386-linux-gnu/libEGL.so.1.distrib by nvidia-340
 Removing 'diversion of /usr/lib/i386-linux-gnu/libEGL.so.1 to /usr/lib/i386-linux-gnu/libEGL.so.1.distrib by nvidia-340'
 diversion of /usr/lib/x86_64-linux-gnu/libEGL.so to /usr/lib/x86_64-linux-gnu/libEGL.so.distrib by nvidia-340
 Removing 'diversion of /usr/lib/x86_64-linux-gnu/libEGL.so to /usr/lib/x86_64-linux-gnu/libEGL.so.distrib by nvidia-340'
 diversion of /usr/lib/i386-linux-gnu/libEGL.so to /usr/lib/i386-linux-gnu/libEGL.so.distrib by nvidia-340
 Removing 'diversion of /usr/lib/i386-linux-gnu/libEGL.so to /usr/lib/i386-linux-gnu/libEGL.so.distrib by nvidia-340'
 diversion of /usr/lib/x86_64-linux-gnu/libGLESv2.so to /usr/lib/x86_64-linux-gnu/libGLESv2.so.distrib by nvidia-340
 Removing 'diversion of /usr/lib/x86_64-linux-gnu/libGLESv2.so to /usr/lib/x86_64-linux-gnu/libGLESv2.so.distrib by nvidia-340'
 diversion of /usr/lib/i386-linux-gnu/libGLESv2.so to /usr/lib/i386-linux-gnu/libGLESv2.so.distrib by nvidia-340
 Removing 'diversion of /usr/lib/i386-linux-gnu/libGLESv2.so to /usr/lib/i386-linux-gnu/libGLESv2.so.distrib by nvidia-340'
 diversion of /usr/lib/x86_64-linux-gnu/libGLESv2.so.2 to /usr/lib/x86_64-linux-gnu/libGLESv2.so.2.distrib by nvidia-340
 Removing 'diversion of /usr/lib/x86_64-linux-gnu/libGLESv2.so.2 to /usr/lib/x86_64-linux-gnu/libGLESv2.so.2.distrib by nvidia-340'
 diversion of /usr/lib/i386-linux-gnu/libGLESv2.so.2 to /usr/lib/i386-linux-gnu/libGLESv2.so.2.distrib by nvidia-340
 Removing 'diversion of /usr/lib/i386-linux-gnu/libGLESv2.so.2 to /usr/lib/i386-linux-gnu/libGLESv2.so.2.distrib by nvidia-340'
 diversion of /usr/lib/x86_64-linux-gnu/libGLESv1_CM.so to /usr/lib/x86_64-linux-gnu/libGLESv1_CM.so.distrib by nvidia-340
 Removing 'diversion of /usr/lib/x86_64-linux-gnu/libGLESv1_CM.so to /usr/lib/x86_64-linux-gnu/libGLESv1_CM.so.distrib by nvidia-340'
 diversion of /usr/lib/i386-linux-gnu/libGLESv1_CM.so to /usr/lib/i386-linux-gnu/libGLESv1_CM.so.distrib by nvidia-340
 Removing 'diversion of /usr/lib/i386-linux-gnu/libGLESv1_CM.so to /usr/lib/i386-linux-gnu/libGLESv1_CM.so.distrib by nvidia-340'
 diversion of /usr/lib/x86_64-linux-gnu/libGLESv1_CM.so.1 to /usr/lib/x86_64-linux-gnu/libGLESv1_CM.so.1.distrib by nvidia-340
 Removing 'diversion of /usr/lib/x86_64-linux-gnu/libGLESv1_CM.so.1 to /usr/lib/x86_64-linux-gnu/libGLESv1_CM.so.1.distrib by nvidia-340'
 diversion of /usr/lib/i386-linux-gnu/libGLESv1_CM.so.1 to /usr/lib/i386-linux-gnu/libGLESv1_CM.so.1.distrib by nvidia-340
 Removing 'diversion of /usr/lib/i386-linux-gnu/libGLESv1_CM.so.1 to /usr/lib/i386-linux-gnu/libGLESv1_CM.so.1.distrib by nvidia-340'
 INFO:Disable nvidia-340
 DEBUG:Parsing /usr/share/ubuntu-drivers-common/quirks/dell_latitude
 DEBUG:Parsing /usr/share/ubuntu-drivers-common/quirks/put_your_quirks_here
 DEBUG:Parsing /usr/share/ubuntu-drivers-common/quirks/lenovo_thinkpad
 update-initramfs: deferring update (trigger activated)
 Selecting previously unselected package libnvidia-common-470.
 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 398210 files and directories currently installed.)
 Preparing to unpack .../libnvidia-common-470_470.103.01-0ubuntu0.20.04.1_all.deb ...
 Unpacking libnvidia-common-470 (470.103.01-0ubuntu0.20.04.1) ...
 Selecting previously unselected package libnvidia-gl-470:i386.
 Preparing to unpack .../libnvidia-gl-470_470.103.01-0ubuntu0.20.04.1_i386.deb ...
 Unpacking libnvidia-gl-470:i386 (470.103.01-0ubuntu0.20.04.1) ...
 Selecting previously unselected package libnvidia-gl-460:i386.
 Preparing to unpack .../libnvidia-gl-460_470.103.01-0ubuntu0.20.04.1_i386.deb ...
 Unpacking libnvidia-gl-460:i386 (470.103.01-0ubuntu0.20.04.1) ...
 Setting up libnvidia-common-470 (470.103.01-0ubuntu0.20.04.1) ...
 Setting up libnvidia-gl-470:i386 (470.103.01-0ubuntu0.20.04.1) ...
 Setting up libnvidia-gl-460:i386 (470.103.01-0ubuntu0.20.04.1) ...
 Processing triggers for libc-bin (2.31-0ubuntu9.7) ...
 Processing triggers for man-db (2.9.1-1) ...
 Processing triggers for initramfs-tools (0.136ubuntu6.7) ...
 update-initramfs: Generating /boot/initrd.img-5.4.0-109-generic
 #+end_example

 #+BEGIN_SRC bash :eval no-export :results output
 etool.sh exe glxgears
 #+END_SRC

 #+RESULTS:




* Fin                                                              :noexport:

** Emacs variables

   We set some file local variables for emacs users.
   #+RESULTS:

   # Local Variables:
   # org-confirm-babel-evaluate: nil
   # eval: (add-hook 'before-save-hook 'org-make-toc)
   # End:
   #



